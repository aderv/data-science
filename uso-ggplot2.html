<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Ciencia de Datos - 2&nbsp; Uso de ggplot2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./uso-dplyr.html" rel="next">
<link href="./r-intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/kbd/kbd.js"></script>
<link href="site_libs/quarto-contrib/kbd/kbd.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JBLWWCLEGX"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JBLWWCLEGX', { 'anonymize_ip': true});
</script>
<meta name="mermaid-theme" content="default">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="site_libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="site_libs/dygraphs-1.1.1/shapes.js"></script>
<script src="site_libs/moment-2.8.4/moment.js"></script>
<script src="site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="site_libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles/global.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./r-intro.html">Análisis Exploratorio</a></li><li class="breadcrumb-item"><a href="./uso-ggplot2.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uso de `ggplot2`</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Ciencia de Datos</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Presentación</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Análisis Exploratorio</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción al uso de <code>R</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./uso-ggplot2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uso de <code>ggplot2</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./uso-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Uso de <code>dplyr</code></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Regresión Lineal</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referencias</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#abstración-del-problema" id="toc-abstración-del-problema" class="nav-link active" data-scroll-target="#abstración-del-problema"><span class="header-section-number">2.1</span> Abstración del problema</a></li>
  <li><a href="#análisis-exploratorio" id="toc-análisis-exploratorio" class="nav-link" data-scroll-target="#análisis-exploratorio"><span class="header-section-number">2.2</span> Análisis exploratorio</a></li>
  <li><a href="#cómo-hacer-eda-en-r" id="toc-cómo-hacer-eda-en-r" class="nav-link" data-scroll-target="#cómo-hacer-eda-en-r"><span class="header-section-number">2.3</span> ¿Cómo hacer EDA en <code>R</code>?</a></li>
  <li><a href="#caso-1.-una-variable-numérica" id="toc-caso-1.-una-variable-numérica" class="nav-link" data-scroll-target="#caso-1.-una-variable-numérica"><span class="header-section-number">2.4</span> Caso 1. Una variable numérica</a></li>
  <li><a href="#bonus-colores" id="toc-bonus-colores" class="nav-link" data-scroll-target="#bonus-colores"><span class="header-section-number">2.5</span> <em>Bonus:</em> Colores</a>
  <ul class="collapse">
  <li><a href="#rgb" id="toc-rgb" class="nav-link" data-scroll-target="#rgb"><span class="header-section-number">2.5.1</span> RGB</a></li>
  <li><a href="#hexadecimal" id="toc-hexadecimal" class="nav-link" data-scroll-target="#hexadecimal"><span class="header-section-number">2.5.2</span> Hexadecimal</a></li>
  </ul></li>
  <li><a href="#volviendo-a-ggplot2" id="toc-volviendo-a-ggplot2" class="nav-link" data-scroll-target="#volviendo-a-ggplot2"><span class="header-section-number">2.6</span> Volviendo a <code>ggplot2</code></a></li>
  <li><a href="#caso-2.-una-variable-numérica-y-una-categórica-o-factor" id="toc-caso-2.-una-variable-numérica-y-una-categórica-o-factor" class="nav-link" data-scroll-target="#caso-2.-una-variable-numérica-y-una-categórica-o-factor"><span class="header-section-number">2.7</span> Caso 2. Una variable numérica y una categórica o factor</a></li>
  <li><a href="#caso-3.-dos-variables-numéricas" id="toc-caso-3.-dos-variables-numéricas" class="nav-link" data-scroll-target="#caso-3.-dos-variables-numéricas"><span class="header-section-number">2.8</span> Caso 3. Dos variables numéricas</a></li>
  <li><a href="#caso-4.-dos-variables-numéricas-y-una-categórica" id="toc-caso-4.-dos-variables-numéricas-y-una-categórica" class="nav-link" data-scroll-target="#caso-4.-dos-variables-numéricas-y-una-categórica"><span class="header-section-number">2.9</span> Caso 4. Dos variables numéricas y una categórica</a></li>
  <li><a href="#geometrías" id="toc-geometrías" class="nav-link" data-scroll-target="#geometrías"><span class="header-section-number">2.10</span> Geometrías</a>
  <ul class="collapse">
  <li><a href="#geom_abline-geom_hline-geom_vline" id="toc-geom_abline-geom_hline-geom_vline" class="nav-link" data-scroll-target="#geom_abline-geom_hline-geom_vline"><span class="header-section-number">2.10.1</span> <code>geom_abline()</code>, <code>geom_hline()</code>, <code>geom_vline()</code></a></li>
  <li><a href="#geom_bar-geom_col" id="toc-geom_bar-geom_col" class="nav-link" data-scroll-target="#geom_bar-geom_col"><span class="header-section-number">2.10.2</span> <code>geom_bar()</code>, <code>geom_col()</code></a></li>
  <li><a href="#geom_density_2d_filled" id="toc-geom_density_2d_filled" class="nav-link" data-scroll-target="#geom_density_2d_filled"><span class="header-section-number">2.10.3</span> <code>geom_density_2d_filled()</code></a></li>
  <li><a href="#geom_function" id="toc-geom_function" class="nav-link" data-scroll-target="#geom_function"><span class="header-section-number">2.10.4</span> <code>geom_function()</code></a></li>
  <li><a href="#geom_freqpoly" id="toc-geom_freqpoly" class="nav-link" data-scroll-target="#geom_freqpoly"><span class="header-section-number">2.10.5</span> <code>geom_freqpoly()</code></a></li>
  <li><a href="#geom_path-geom_line" id="toc-geom_path-geom_line" class="nav-link" data-scroll-target="#geom_path-geom_line"><span class="header-section-number">2.10.6</span> <code>geom_path()</code>, <code>geom_line()</code></a></li>
  </ul></li>
  <li><a href="#agregando-facetas-o-subplots" id="toc-agregando-facetas-o-subplots" class="nav-link" data-scroll-target="#agregando-facetas-o-subplots"><span class="header-section-number">2.11</span> Agregando facetas o <em>subplots</em></a></li>
  <li><a href="#más-allá-de-ggplot2" id="toc-más-allá-de-ggplot2" class="nav-link" data-scroll-target="#más-allá-de-ggplot2"><span class="header-section-number">2.12</span> Más allá de <code>ggplot2</code></a>
  <ul class="collapse">
  <li><a href="#patchwork" id="toc-patchwork" class="nav-link" data-scroll-target="#patchwork"><span class="header-section-number">2.12.1</span> <code>patchwork</code></a></li>
  <li><a href="#plotly" id="toc-plotly" class="nav-link" data-scroll-target="#plotly"><span class="header-section-number">2.12.2</span> <code>plotly</code></a></li>
  <li><a href="#dygraphs" id="toc-dygraphs" class="nav-link" data-scroll-target="#dygraphs"><span class="header-section-number">2.12.3</span> <code>dygraphs</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uso de <code>ggplot2</code></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="abstración-del-problema" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="abstración-del-problema"><span class="header-section-number">2.1</span> Abstración del problema</h2>
<p>Antes de comenzar con EDA, hagamos una conceptualización del tipo de problemas que queremos resolver con lo que conocemos como Ciencia de Datos (<mark>En el tablero</mark>)</p>
</section>
<section id="análisis-exploratorio" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="análisis-exploratorio"><span class="header-section-number">2.2</span> Análisis exploratorio</h2>
<p>El análisis exploratorio se lleva a cabo a través de transformaciones y visualizaciones de los datos.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> El proceso puede ser iterativo y ayuda a comprender mejor el tipo de datos con los que se está trabajando, muchos problemas en Ciencia de Datos se resuelven en esta fase.</p>
<div id="fig-workflow" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<pre class="mermaid mermaid-js">flowchart LR
subgraph DW[Data Wrangling]
  direction LR
  A(Importar) --&gt; B(Ordenar)
  B --&gt; C(Transformar)
end
subgraph EDA["Exploratory Data Analysis (EDA)"]
  direction RL
  C2(Transformar) --&gt; D(Visualizar)
  D --&gt; C2
end
subgraph MO[Modeling]
  direction RL
  E(Modelar) --&gt; F(Evaluar)
  F --&gt; E
end
subgraph CO[Communicate]
  G(comunicar)
end

DW --&gt; EDA
EDA --&gt; MO
MO --&gt; EDA
MO --&gt; CO
</pre>
</div>
</div>
</div>
</div>
<figcaption class="figure-caption">Figura&nbsp;2.1: Flujo de trabajo en ciencia de datos</figcaption>
</figure>
</div>
</section>
<section id="cómo-hacer-eda-en-r" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="cómo-hacer-eda-en-r"><span class="header-section-number">2.3</span> ¿Cómo hacer EDA en <code>R</code>?</h2>
<p>Hay muchos paquetes en <code>R</code> pensados para facilitar el trabajo del científico de datos. Nos basaremos en el ecosistema de paquetes optimizados para análisis de datos, conocido como <a href="https://www.tidyverse.org/" target="_blank"><em>tidyverse</em></a></p>
<p>El <em>core tidyverse</em> es el conjunto principal de paquetes de este ecosistema:</p>
<ul>
<li><code>ggplot2</code>: Para hacer gráficas</li>
<li><code>diplyr</code>: Para manipulación de datos</li>
<li><code>tidyr</code>: Para organizar bases de datos en formato <em>tidy</em></li>
<li><code>readr</code>: Para importar datos</li>
<li><code>tibble</code>: para manejo de bases de datos con muchos datos</li>
<li><code>stringr</code>: Para manipular <em>strings</em></li>
<li><code>forcats</code>: Para manipular variables categóricas</li>
</ul>
<p>podemos cargar cada paquete de forma individual (<code>library(ggplot2)</code>) o cargarlos de forma conjunta con <code>library(tidyverse)</code>. Nos interesan principalmente <code>ggplot2</code> y <code>dplyr</code>.</p>
<p>Para poder hacer análisis de cualquier tipo, primero necesitamos tener disponible un conjunto de datos o <em>data frame</em> (o en formato del <em>tidyverse</em> un <em>tibble</em><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>). Hay varias formas de obtener datos en <code>R</code></p>
<ol type="1">
<li>Datos sintéticos (simulados)</li>
<li>Bases de datos instaladas con <code>R</code> o con alguno de sus paquetes</li>
<li>Importarlo desde una fuente externa, ya sea de forma local o desde la web</li>
</ol>
<p>Usaremos una base de datos que viene en el paquete <code>palmerpenguins</code> (hay que instalar y cargar la librería) que es bastante adecuada para iniciar un análisis exploratorio</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-3_f9e754e256ab0ebf3041497239c8294d">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>penguins</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 344 × 8
   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
 1 Adelie  Torgersen           39.1          18.7               181        3750
 2 Adelie  Torgersen           39.5          17.4               186        3800
 3 Adelie  Torgersen           40.3          18                 195        3250
 4 Adelie  Torgersen           NA            NA                  NA          NA
 5 Adelie  Torgersen           36.7          19.3               193        3450
 6 Adelie  Torgersen           39.3          20.6               190        3650
 7 Adelie  Torgersen           38.9          17.8               181        3625
 8 Adelie  Torgersen           39.2          19.6               195        4675
 9 Adelie  Torgersen           34.1          18.1               193        3475
10 Adelie  Torgersen           42            20.2               190        4250
# ℹ 334 more rows
# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
</div>
</div>
<p>Otra herramienta que usaremos con frecuencia en nuestros códigos es el operador <em>pipe</em>. Este operador viene en dos versiones:</p>
<ul>
<li><code>|&gt;</code>: Versión base o nativa de <code>R</code>, no requiere la instalación de ningún paquete</li>
<li><code>%&gt;%</code>: Versión del <em>tidyverse</em>, requiere cargar alguno de los paquetes <code>dplyr</code>, <code>magrittr</code>, <code>tidyverse</code></li>
</ul>
<p>El atajo de teclado para el operador pipe es <kbd data-windows="Ctrl+Shift+m"></kbd>. Por defecto se genera <code>%&gt;%</code>, para generar el operador nativo <code>|&gt;</code>, debe ingresar a <em>Tools -&gt; Global Options -&gt; Code -&gt; Editing</em> y activar la casilla <em>use native pipe operator</em></p>
<p>El operador <em>pipe</em> nos permite escribir código de forma lineal y más fácilmente legible de izquierda a derecha, en lugar de funciones anidadas.</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-4_1c229894826534f2f6f6d616b283d65d">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sin</span>(<span class="fu">log</span>(<span class="fu">sum</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9756868</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># usando el operador pipe</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="sc">|&gt;</span> <span class="fu">sum</span>() <span class="sc">|&gt;</span> <span class="fu">log</span>() <span class="sc">|&gt;</span> <span class="fu">sin</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9756868</code></pre>
</div>
</div>
<p>El operador permite pasar el resultado de la izquierda como primer argumento de la función siguiente a la derecha.</p>
<p>El tipo de gráfica que debemos crear depende del tipo de variables que tengamos y de la forma en que las queramos analizar, por lo que es importante elegir las gráficas adecuadas. Antes de empezar a construir gráficas, recordemos una definición de los tipos de variables que podemos tener</p>
<ul>
<li>Numéricas (cuantitativas)
<ul>
<li>Discretas</li>
<li>Continuas</li>
</ul></li>
<li>categóricas (cualitativas o factores)
<ul>
<li>Ordinales</li>
<li>Nominales</li>
</ul></li>
</ul>
<p>ejecute <code>?penguins</code> para estudiar y entender los datos en <em>penguins</em></p>
<p>Dividamos el trabajo por casos</p>
</section>
<section id="caso-1.-una-variable-numérica" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="caso-1.-una-variable-numérica"><span class="header-section-number">2.4</span> Caso 1. Una variable numérica</h2>
<p>Algunas gráficas para este caso:</p>
<ul>
<li>Histogramas</li>
<li>Gráficos de densidad</li>
<li>Diagramas de caja</li>
</ul>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-5_30ed7b4bfd88eb49ada48f7b578e1b47">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Una forma alterna (la que más vamos a usar) usando el operador <em>pipe</em> sería <code>penguins |&gt; ggplot()</code></p>
<p><code>ggplot2</code> implementa lo que se conoce como gramática de gráficos, que en resumen quiere decir que el gráfico se construye al ir agregando capas (<em>layers</em>). Al aplicar la función <code>ggplot()</code> a una base de datos, se crea un lienzo en blanco (gris).</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-6_575eeb6e6543c8ed7deca9658c194475">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Aún no se muestra una gráfica, se ha creado un <em>mapeo</em> y puede verse la escala de valores de la variable <code>body_mass_g</code> en el eje X, pero aún falta por agregar el tipo de geometría o tipo de gráfico a construir</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-7_8c3dc50a677a864873d049849b6d1551">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing non-finite values (`stat_bin()`).</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p><code>ggplot</code> nos informa sobre la presencia de 2 valores no finitos, probablemente sean <code>NA</code>. Por ahora eliminemos los <code>NA</code> de la base de datos<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-8_981c4107fb0a7a81a2e736053cf4914c">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(penguins)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Volvemos a intentar la gráfica</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-9_b1a854b965a2810e1b02c8aa12dc39f8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Para hacer gráficos ordenados, es bueno personalizar las etiquetas y los títulos y subtítulos, esto se logra con la función <code>labs()</code> que tiene argumentos como <code>title</code>, <code>subtitle</code>, <code>caption</code>, etc</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-10_f4c14ee297b8c7df002d1775421968a1">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Conteo"</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos distribuidos en 3 islas y 3 especies"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Algunos argumentos o propiedades, tales como el color (<em>colour</em>) y relleno (<em>fill</em>), son comunes a muchos o todos los tipos de geometrías. Otras propiedades son más específicas, para un histograma por ejemplo, tiene sentido tener propiedades de número de clases (<code>bins</code>) o ancho de las clases (<code>binwidth</code>), pero no tendría mucho sentido hablar de número de clases en un diagrama de cajas.</p>
<p>En el siguiente gráfico, modificamos la cantidad de clases a usar, el color del borde y el relleno.</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-11_4cc9b578ffdd302678ac96578c09a583">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"red"</span>, <span class="at">bins =</span> <span class="dv">20</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Conteo"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos distribuidos en 3 islas y 3 especies"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="bonus-colores" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="bonus-colores"><span class="header-section-number">2.5</span> <em>Bonus:</em> Colores</h2>
<ul>
<li><p>Parte importante de toda gráfica, es el uso de los colores</p></li>
<li><p>En <code>R</code> podemos manejar colores por nombres (en inglés, por supuesto) o usando sistemas de codificación como el RGB y Hexadecimal</p></li>
<li><p>Una lista de colores en <code>R</code> la podemos obtener con <code>colors()</code><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. La lista completa de colores disponibles en <code>R</code> es</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-12_632c91fa3b1e66f27efbccb36e9465b9">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; overflow-x: scroll; width:300px; ">
<table class="table table-condensed table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">N</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">Colores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">white</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">aliceblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">antiquewhite</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">antiquewhite1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">antiquewhite2</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">antiquewhite3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">antiquewhite4</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">aquamarine</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">aquamarine1</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">aquamarine2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: left;">aquamarine3</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: left;">aquamarine4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: left;">azure</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: left;">azure1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: left;">azure2</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: left;">azure3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: left;">azure4</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: left;">beige</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: left;">bisque</td>
</tr>
<tr class="even">
<td style="text-align: right;">20</td>
<td style="text-align: left;">bisque1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">21</td>
<td style="text-align: left;">bisque2</td>
</tr>
<tr class="even">
<td style="text-align: right;">22</td>
<td style="text-align: left;">bisque3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">23</td>
<td style="text-align: left;">bisque4</td>
</tr>
<tr class="even">
<td style="text-align: right;">24</td>
<td style="text-align: left;">black</td>
</tr>
<tr class="odd">
<td style="text-align: right;">25</td>
<td style="text-align: left;">blanchedalmond</td>
</tr>
<tr class="even">
<td style="text-align: right;">26</td>
<td style="text-align: left;">blue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">27</td>
<td style="text-align: left;">blue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">28</td>
<td style="text-align: left;">blue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">29</td>
<td style="text-align: left;">blue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">30</td>
<td style="text-align: left;">blue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">31</td>
<td style="text-align: left;">blueviolet</td>
</tr>
<tr class="even">
<td style="text-align: right;">32</td>
<td style="text-align: left;">brown</td>
</tr>
<tr class="odd">
<td style="text-align: right;">33</td>
<td style="text-align: left;">brown1</td>
</tr>
<tr class="even">
<td style="text-align: right;">34</td>
<td style="text-align: left;">brown2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35</td>
<td style="text-align: left;">brown3</td>
</tr>
<tr class="even">
<td style="text-align: right;">36</td>
<td style="text-align: left;">brown4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">37</td>
<td style="text-align: left;">burlywood</td>
</tr>
<tr class="even">
<td style="text-align: right;">38</td>
<td style="text-align: left;">burlywood1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">39</td>
<td style="text-align: left;">burlywood2</td>
</tr>
<tr class="even">
<td style="text-align: right;">40</td>
<td style="text-align: left;">burlywood3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">41</td>
<td style="text-align: left;">burlywood4</td>
</tr>
<tr class="even">
<td style="text-align: right;">42</td>
<td style="text-align: left;">cadetblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">43</td>
<td style="text-align: left;">cadetblue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">44</td>
<td style="text-align: left;">cadetblue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">45</td>
<td style="text-align: left;">cadetblue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">46</td>
<td style="text-align: left;">cadetblue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">47</td>
<td style="text-align: left;">chartreuse</td>
</tr>
<tr class="even">
<td style="text-align: right;">48</td>
<td style="text-align: left;">chartreuse1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">49</td>
<td style="text-align: left;">chartreuse2</td>
</tr>
<tr class="even">
<td style="text-align: right;">50</td>
<td style="text-align: left;">chartreuse3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">51</td>
<td style="text-align: left;">chartreuse4</td>
</tr>
<tr class="even">
<td style="text-align: right;">52</td>
<td style="text-align: left;">chocolate</td>
</tr>
<tr class="odd">
<td style="text-align: right;">53</td>
<td style="text-align: left;">chocolate1</td>
</tr>
<tr class="even">
<td style="text-align: right;">54</td>
<td style="text-align: left;">chocolate2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">55</td>
<td style="text-align: left;">chocolate3</td>
</tr>
<tr class="even">
<td style="text-align: right;">56</td>
<td style="text-align: left;">chocolate4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">57</td>
<td style="text-align: left;">coral</td>
</tr>
<tr class="even">
<td style="text-align: right;">58</td>
<td style="text-align: left;">coral1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">59</td>
<td style="text-align: left;">coral2</td>
</tr>
<tr class="even">
<td style="text-align: right;">60</td>
<td style="text-align: left;">coral3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">61</td>
<td style="text-align: left;">coral4</td>
</tr>
<tr class="even">
<td style="text-align: right;">62</td>
<td style="text-align: left;">cornflowerblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">63</td>
<td style="text-align: left;">cornsilk</td>
</tr>
<tr class="even">
<td style="text-align: right;">64</td>
<td style="text-align: left;">cornsilk1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">65</td>
<td style="text-align: left;">cornsilk2</td>
</tr>
<tr class="even">
<td style="text-align: right;">66</td>
<td style="text-align: left;">cornsilk3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">67</td>
<td style="text-align: left;">cornsilk4</td>
</tr>
<tr class="even">
<td style="text-align: right;">68</td>
<td style="text-align: left;">cyan</td>
</tr>
<tr class="odd">
<td style="text-align: right;">69</td>
<td style="text-align: left;">cyan1</td>
</tr>
<tr class="even">
<td style="text-align: right;">70</td>
<td style="text-align: left;">cyan2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">71</td>
<td style="text-align: left;">cyan3</td>
</tr>
<tr class="even">
<td style="text-align: right;">72</td>
<td style="text-align: left;">cyan4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">73</td>
<td style="text-align: left;">darkblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">74</td>
<td style="text-align: left;">darkcyan</td>
</tr>
<tr class="odd">
<td style="text-align: right;">75</td>
<td style="text-align: left;">darkgoldenrod</td>
</tr>
<tr class="even">
<td style="text-align: right;">76</td>
<td style="text-align: left;">darkgoldenrod1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">77</td>
<td style="text-align: left;">darkgoldenrod2</td>
</tr>
<tr class="even">
<td style="text-align: right;">78</td>
<td style="text-align: left;">darkgoldenrod3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">79</td>
<td style="text-align: left;">darkgoldenrod4</td>
</tr>
<tr class="even">
<td style="text-align: right;">80</td>
<td style="text-align: left;">darkgray</td>
</tr>
<tr class="odd">
<td style="text-align: right;">81</td>
<td style="text-align: left;">darkgreen</td>
</tr>
<tr class="even">
<td style="text-align: right;">82</td>
<td style="text-align: left;">darkgrey</td>
</tr>
<tr class="odd">
<td style="text-align: right;">83</td>
<td style="text-align: left;">darkkhaki</td>
</tr>
<tr class="even">
<td style="text-align: right;">84</td>
<td style="text-align: left;">darkmagenta</td>
</tr>
<tr class="odd">
<td style="text-align: right;">85</td>
<td style="text-align: left;">darkolivegreen</td>
</tr>
<tr class="even">
<td style="text-align: right;">86</td>
<td style="text-align: left;">darkolivegreen1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">87</td>
<td style="text-align: left;">darkolivegreen2</td>
</tr>
<tr class="even">
<td style="text-align: right;">88</td>
<td style="text-align: left;">darkolivegreen3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89</td>
<td style="text-align: left;">darkolivegreen4</td>
</tr>
<tr class="even">
<td style="text-align: right;">90</td>
<td style="text-align: left;">darkorange</td>
</tr>
<tr class="odd">
<td style="text-align: right;">91</td>
<td style="text-align: left;">darkorange1</td>
</tr>
<tr class="even">
<td style="text-align: right;">92</td>
<td style="text-align: left;">darkorange2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">93</td>
<td style="text-align: left;">darkorange3</td>
</tr>
<tr class="even">
<td style="text-align: right;">94</td>
<td style="text-align: left;">darkorange4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">95</td>
<td style="text-align: left;">darkorchid</td>
</tr>
<tr class="even">
<td style="text-align: right;">96</td>
<td style="text-align: left;">darkorchid1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">97</td>
<td style="text-align: left;">darkorchid2</td>
</tr>
<tr class="even">
<td style="text-align: right;">98</td>
<td style="text-align: left;">darkorchid3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">99</td>
<td style="text-align: left;">darkorchid4</td>
</tr>
<tr class="even">
<td style="text-align: right;">100</td>
<td style="text-align: left;">darkred</td>
</tr>
<tr class="odd">
<td style="text-align: right;">101</td>
<td style="text-align: left;">darksalmon</td>
</tr>
<tr class="even">
<td style="text-align: right;">102</td>
<td style="text-align: left;">darkseagreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">103</td>
<td style="text-align: left;">darkseagreen1</td>
</tr>
<tr class="even">
<td style="text-align: right;">104</td>
<td style="text-align: left;">darkseagreen2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">105</td>
<td style="text-align: left;">darkseagreen3</td>
</tr>
<tr class="even">
<td style="text-align: right;">106</td>
<td style="text-align: left;">darkseagreen4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">107</td>
<td style="text-align: left;">darkslateblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">108</td>
<td style="text-align: left;">darkslategray</td>
</tr>
<tr class="odd">
<td style="text-align: right;">109</td>
<td style="text-align: left;">darkslategray1</td>
</tr>
<tr class="even">
<td style="text-align: right;">110</td>
<td style="text-align: left;">darkslategray2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">111</td>
<td style="text-align: left;">darkslategray3</td>
</tr>
<tr class="even">
<td style="text-align: right;">112</td>
<td style="text-align: left;">darkslategray4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">113</td>
<td style="text-align: left;">darkslategrey</td>
</tr>
<tr class="even">
<td style="text-align: right;">114</td>
<td style="text-align: left;">darkturquoise</td>
</tr>
<tr class="odd">
<td style="text-align: right;">115</td>
<td style="text-align: left;">darkviolet</td>
</tr>
<tr class="even">
<td style="text-align: right;">116</td>
<td style="text-align: left;">deeppink</td>
</tr>
<tr class="odd">
<td style="text-align: right;">117</td>
<td style="text-align: left;">deeppink1</td>
</tr>
<tr class="even">
<td style="text-align: right;">118</td>
<td style="text-align: left;">deeppink2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">119</td>
<td style="text-align: left;">deeppink3</td>
</tr>
<tr class="even">
<td style="text-align: right;">120</td>
<td style="text-align: left;">deeppink4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">121</td>
<td style="text-align: left;">deepskyblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">122</td>
<td style="text-align: left;">deepskyblue1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">123</td>
<td style="text-align: left;">deepskyblue2</td>
</tr>
<tr class="even">
<td style="text-align: right;">124</td>
<td style="text-align: left;">deepskyblue3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">125</td>
<td style="text-align: left;">deepskyblue4</td>
</tr>
<tr class="even">
<td style="text-align: right;">126</td>
<td style="text-align: left;">dimgray</td>
</tr>
<tr class="odd">
<td style="text-align: right;">127</td>
<td style="text-align: left;">dimgrey</td>
</tr>
<tr class="even">
<td style="text-align: right;">128</td>
<td style="text-align: left;">dodgerblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">129</td>
<td style="text-align: left;">dodgerblue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">130</td>
<td style="text-align: left;">dodgerblue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">131</td>
<td style="text-align: left;">dodgerblue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">132</td>
<td style="text-align: left;">dodgerblue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">133</td>
<td style="text-align: left;">firebrick</td>
</tr>
<tr class="even">
<td style="text-align: right;">134</td>
<td style="text-align: left;">firebrick1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">135</td>
<td style="text-align: left;">firebrick2</td>
</tr>
<tr class="even">
<td style="text-align: right;">136</td>
<td style="text-align: left;">firebrick3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">137</td>
<td style="text-align: left;">firebrick4</td>
</tr>
<tr class="even">
<td style="text-align: right;">138</td>
<td style="text-align: left;">floralwhite</td>
</tr>
<tr class="odd">
<td style="text-align: right;">139</td>
<td style="text-align: left;">forestgreen</td>
</tr>
<tr class="even">
<td style="text-align: right;">140</td>
<td style="text-align: left;">gainsboro</td>
</tr>
<tr class="odd">
<td style="text-align: right;">141</td>
<td style="text-align: left;">ghostwhite</td>
</tr>
<tr class="even">
<td style="text-align: right;">142</td>
<td style="text-align: left;">gold</td>
</tr>
<tr class="odd">
<td style="text-align: right;">143</td>
<td style="text-align: left;">gold1</td>
</tr>
<tr class="even">
<td style="text-align: right;">144</td>
<td style="text-align: left;">gold2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">145</td>
<td style="text-align: left;">gold3</td>
</tr>
<tr class="even">
<td style="text-align: right;">146</td>
<td style="text-align: left;">gold4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">147</td>
<td style="text-align: left;">goldenrod</td>
</tr>
<tr class="even">
<td style="text-align: right;">148</td>
<td style="text-align: left;">goldenrod1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">149</td>
<td style="text-align: left;">goldenrod2</td>
</tr>
<tr class="even">
<td style="text-align: right;">150</td>
<td style="text-align: left;">goldenrod3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">151</td>
<td style="text-align: left;">goldenrod4</td>
</tr>
<tr class="even">
<td style="text-align: right;">152</td>
<td style="text-align: left;">gray</td>
</tr>
<tr class="odd">
<td style="text-align: right;">153</td>
<td style="text-align: left;">gray0</td>
</tr>
<tr class="even">
<td style="text-align: right;">154</td>
<td style="text-align: left;">gray1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">155</td>
<td style="text-align: left;">gray2</td>
</tr>
<tr class="even">
<td style="text-align: right;">156</td>
<td style="text-align: left;">gray3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">157</td>
<td style="text-align: left;">gray4</td>
</tr>
<tr class="even">
<td style="text-align: right;">158</td>
<td style="text-align: left;">gray5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">159</td>
<td style="text-align: left;">gray6</td>
</tr>
<tr class="even">
<td style="text-align: right;">160</td>
<td style="text-align: left;">gray7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">161</td>
<td style="text-align: left;">gray8</td>
</tr>
<tr class="even">
<td style="text-align: right;">162</td>
<td style="text-align: left;">gray9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">163</td>
<td style="text-align: left;">gray10</td>
</tr>
<tr class="even">
<td style="text-align: right;">164</td>
<td style="text-align: left;">gray11</td>
</tr>
<tr class="odd">
<td style="text-align: right;">165</td>
<td style="text-align: left;">gray12</td>
</tr>
<tr class="even">
<td style="text-align: right;">166</td>
<td style="text-align: left;">gray13</td>
</tr>
<tr class="odd">
<td style="text-align: right;">167</td>
<td style="text-align: left;">gray14</td>
</tr>
<tr class="even">
<td style="text-align: right;">168</td>
<td style="text-align: left;">gray15</td>
</tr>
<tr class="odd">
<td style="text-align: right;">169</td>
<td style="text-align: left;">gray16</td>
</tr>
<tr class="even">
<td style="text-align: right;">170</td>
<td style="text-align: left;">gray17</td>
</tr>
<tr class="odd">
<td style="text-align: right;">171</td>
<td style="text-align: left;">gray18</td>
</tr>
<tr class="even">
<td style="text-align: right;">172</td>
<td style="text-align: left;">gray19</td>
</tr>
<tr class="odd">
<td style="text-align: right;">173</td>
<td style="text-align: left;">gray20</td>
</tr>
<tr class="even">
<td style="text-align: right;">174</td>
<td style="text-align: left;">gray21</td>
</tr>
<tr class="odd">
<td style="text-align: right;">175</td>
<td style="text-align: left;">gray22</td>
</tr>
<tr class="even">
<td style="text-align: right;">176</td>
<td style="text-align: left;">gray23</td>
</tr>
<tr class="odd">
<td style="text-align: right;">177</td>
<td style="text-align: left;">gray24</td>
</tr>
<tr class="even">
<td style="text-align: right;">178</td>
<td style="text-align: left;">gray25</td>
</tr>
<tr class="odd">
<td style="text-align: right;">179</td>
<td style="text-align: left;">gray26</td>
</tr>
<tr class="even">
<td style="text-align: right;">180</td>
<td style="text-align: left;">gray27</td>
</tr>
<tr class="odd">
<td style="text-align: right;">181</td>
<td style="text-align: left;">gray28</td>
</tr>
<tr class="even">
<td style="text-align: right;">182</td>
<td style="text-align: left;">gray29</td>
</tr>
<tr class="odd">
<td style="text-align: right;">183</td>
<td style="text-align: left;">gray30</td>
</tr>
<tr class="even">
<td style="text-align: right;">184</td>
<td style="text-align: left;">gray31</td>
</tr>
<tr class="odd">
<td style="text-align: right;">185</td>
<td style="text-align: left;">gray32</td>
</tr>
<tr class="even">
<td style="text-align: right;">186</td>
<td style="text-align: left;">gray33</td>
</tr>
<tr class="odd">
<td style="text-align: right;">187</td>
<td style="text-align: left;">gray34</td>
</tr>
<tr class="even">
<td style="text-align: right;">188</td>
<td style="text-align: left;">gray35</td>
</tr>
<tr class="odd">
<td style="text-align: right;">189</td>
<td style="text-align: left;">gray36</td>
</tr>
<tr class="even">
<td style="text-align: right;">190</td>
<td style="text-align: left;">gray37</td>
</tr>
<tr class="odd">
<td style="text-align: right;">191</td>
<td style="text-align: left;">gray38</td>
</tr>
<tr class="even">
<td style="text-align: right;">192</td>
<td style="text-align: left;">gray39</td>
</tr>
<tr class="odd">
<td style="text-align: right;">193</td>
<td style="text-align: left;">gray40</td>
</tr>
<tr class="even">
<td style="text-align: right;">194</td>
<td style="text-align: left;">gray41</td>
</tr>
<tr class="odd">
<td style="text-align: right;">195</td>
<td style="text-align: left;">gray42</td>
</tr>
<tr class="even">
<td style="text-align: right;">196</td>
<td style="text-align: left;">gray43</td>
</tr>
<tr class="odd">
<td style="text-align: right;">197</td>
<td style="text-align: left;">gray44</td>
</tr>
<tr class="even">
<td style="text-align: right;">198</td>
<td style="text-align: left;">gray45</td>
</tr>
<tr class="odd">
<td style="text-align: right;">199</td>
<td style="text-align: left;">gray46</td>
</tr>
<tr class="even">
<td style="text-align: right;">200</td>
<td style="text-align: left;">gray47</td>
</tr>
<tr class="odd">
<td style="text-align: right;">201</td>
<td style="text-align: left;">gray48</td>
</tr>
<tr class="even">
<td style="text-align: right;">202</td>
<td style="text-align: left;">gray49</td>
</tr>
<tr class="odd">
<td style="text-align: right;">203</td>
<td style="text-align: left;">gray50</td>
</tr>
<tr class="even">
<td style="text-align: right;">204</td>
<td style="text-align: left;">gray51</td>
</tr>
<tr class="odd">
<td style="text-align: right;">205</td>
<td style="text-align: left;">gray52</td>
</tr>
<tr class="even">
<td style="text-align: right;">206</td>
<td style="text-align: left;">gray53</td>
</tr>
<tr class="odd">
<td style="text-align: right;">207</td>
<td style="text-align: left;">gray54</td>
</tr>
<tr class="even">
<td style="text-align: right;">208</td>
<td style="text-align: left;">gray55</td>
</tr>
<tr class="odd">
<td style="text-align: right;">209</td>
<td style="text-align: left;">gray56</td>
</tr>
<tr class="even">
<td style="text-align: right;">210</td>
<td style="text-align: left;">gray57</td>
</tr>
<tr class="odd">
<td style="text-align: right;">211</td>
<td style="text-align: left;">gray58</td>
</tr>
<tr class="even">
<td style="text-align: right;">212</td>
<td style="text-align: left;">gray59</td>
</tr>
<tr class="odd">
<td style="text-align: right;">213</td>
<td style="text-align: left;">gray60</td>
</tr>
<tr class="even">
<td style="text-align: right;">214</td>
<td style="text-align: left;">gray61</td>
</tr>
<tr class="odd">
<td style="text-align: right;">215</td>
<td style="text-align: left;">gray62</td>
</tr>
<tr class="even">
<td style="text-align: right;">216</td>
<td style="text-align: left;">gray63</td>
</tr>
<tr class="odd">
<td style="text-align: right;">217</td>
<td style="text-align: left;">gray64</td>
</tr>
<tr class="even">
<td style="text-align: right;">218</td>
<td style="text-align: left;">gray65</td>
</tr>
<tr class="odd">
<td style="text-align: right;">219</td>
<td style="text-align: left;">gray66</td>
</tr>
<tr class="even">
<td style="text-align: right;">220</td>
<td style="text-align: left;">gray67</td>
</tr>
<tr class="odd">
<td style="text-align: right;">221</td>
<td style="text-align: left;">gray68</td>
</tr>
<tr class="even">
<td style="text-align: right;">222</td>
<td style="text-align: left;">gray69</td>
</tr>
<tr class="odd">
<td style="text-align: right;">223</td>
<td style="text-align: left;">gray70</td>
</tr>
<tr class="even">
<td style="text-align: right;">224</td>
<td style="text-align: left;">gray71</td>
</tr>
<tr class="odd">
<td style="text-align: right;">225</td>
<td style="text-align: left;">gray72</td>
</tr>
<tr class="even">
<td style="text-align: right;">226</td>
<td style="text-align: left;">gray73</td>
</tr>
<tr class="odd">
<td style="text-align: right;">227</td>
<td style="text-align: left;">gray74</td>
</tr>
<tr class="even">
<td style="text-align: right;">228</td>
<td style="text-align: left;">gray75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">229</td>
<td style="text-align: left;">gray76</td>
</tr>
<tr class="even">
<td style="text-align: right;">230</td>
<td style="text-align: left;">gray77</td>
</tr>
<tr class="odd">
<td style="text-align: right;">231</td>
<td style="text-align: left;">gray78</td>
</tr>
<tr class="even">
<td style="text-align: right;">232</td>
<td style="text-align: left;">gray79</td>
</tr>
<tr class="odd">
<td style="text-align: right;">233</td>
<td style="text-align: left;">gray80</td>
</tr>
<tr class="even">
<td style="text-align: right;">234</td>
<td style="text-align: left;">gray81</td>
</tr>
<tr class="odd">
<td style="text-align: right;">235</td>
<td style="text-align: left;">gray82</td>
</tr>
<tr class="even">
<td style="text-align: right;">236</td>
<td style="text-align: left;">gray83</td>
</tr>
<tr class="odd">
<td style="text-align: right;">237</td>
<td style="text-align: left;">gray84</td>
</tr>
<tr class="even">
<td style="text-align: right;">238</td>
<td style="text-align: left;">gray85</td>
</tr>
<tr class="odd">
<td style="text-align: right;">239</td>
<td style="text-align: left;">gray86</td>
</tr>
<tr class="even">
<td style="text-align: right;">240</td>
<td style="text-align: left;">gray87</td>
</tr>
<tr class="odd">
<td style="text-align: right;">241</td>
<td style="text-align: left;">gray88</td>
</tr>
<tr class="even">
<td style="text-align: right;">242</td>
<td style="text-align: left;">gray89</td>
</tr>
<tr class="odd">
<td style="text-align: right;">243</td>
<td style="text-align: left;">gray90</td>
</tr>
<tr class="even">
<td style="text-align: right;">244</td>
<td style="text-align: left;">gray91</td>
</tr>
<tr class="odd">
<td style="text-align: right;">245</td>
<td style="text-align: left;">gray92</td>
</tr>
<tr class="even">
<td style="text-align: right;">246</td>
<td style="text-align: left;">gray93</td>
</tr>
<tr class="odd">
<td style="text-align: right;">247</td>
<td style="text-align: left;">gray94</td>
</tr>
<tr class="even">
<td style="text-align: right;">248</td>
<td style="text-align: left;">gray95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">249</td>
<td style="text-align: left;">gray96</td>
</tr>
<tr class="even">
<td style="text-align: right;">250</td>
<td style="text-align: left;">gray97</td>
</tr>
<tr class="odd">
<td style="text-align: right;">251</td>
<td style="text-align: left;">gray98</td>
</tr>
<tr class="even">
<td style="text-align: right;">252</td>
<td style="text-align: left;">gray99</td>
</tr>
<tr class="odd">
<td style="text-align: right;">253</td>
<td style="text-align: left;">gray100</td>
</tr>
<tr class="even">
<td style="text-align: right;">254</td>
<td style="text-align: left;">green</td>
</tr>
<tr class="odd">
<td style="text-align: right;">255</td>
<td style="text-align: left;">green1</td>
</tr>
<tr class="even">
<td style="text-align: right;">256</td>
<td style="text-align: left;">green2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">257</td>
<td style="text-align: left;">green3</td>
</tr>
<tr class="even">
<td style="text-align: right;">258</td>
<td style="text-align: left;">green4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">259</td>
<td style="text-align: left;">greenyellow</td>
</tr>
<tr class="even">
<td style="text-align: right;">260</td>
<td style="text-align: left;">grey</td>
</tr>
<tr class="odd">
<td style="text-align: right;">261</td>
<td style="text-align: left;">grey0</td>
</tr>
<tr class="even">
<td style="text-align: right;">262</td>
<td style="text-align: left;">grey1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">263</td>
<td style="text-align: left;">grey2</td>
</tr>
<tr class="even">
<td style="text-align: right;">264</td>
<td style="text-align: left;">grey3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">265</td>
<td style="text-align: left;">grey4</td>
</tr>
<tr class="even">
<td style="text-align: right;">266</td>
<td style="text-align: left;">grey5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">267</td>
<td style="text-align: left;">grey6</td>
</tr>
<tr class="even">
<td style="text-align: right;">268</td>
<td style="text-align: left;">grey7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">269</td>
<td style="text-align: left;">grey8</td>
</tr>
<tr class="even">
<td style="text-align: right;">270</td>
<td style="text-align: left;">grey9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">271</td>
<td style="text-align: left;">grey10</td>
</tr>
<tr class="even">
<td style="text-align: right;">272</td>
<td style="text-align: left;">grey11</td>
</tr>
<tr class="odd">
<td style="text-align: right;">273</td>
<td style="text-align: left;">grey12</td>
</tr>
<tr class="even">
<td style="text-align: right;">274</td>
<td style="text-align: left;">grey13</td>
</tr>
<tr class="odd">
<td style="text-align: right;">275</td>
<td style="text-align: left;">grey14</td>
</tr>
<tr class="even">
<td style="text-align: right;">276</td>
<td style="text-align: left;">grey15</td>
</tr>
<tr class="odd">
<td style="text-align: right;">277</td>
<td style="text-align: left;">grey16</td>
</tr>
<tr class="even">
<td style="text-align: right;">278</td>
<td style="text-align: left;">grey17</td>
</tr>
<tr class="odd">
<td style="text-align: right;">279</td>
<td style="text-align: left;">grey18</td>
</tr>
<tr class="even">
<td style="text-align: right;">280</td>
<td style="text-align: left;">grey19</td>
</tr>
<tr class="odd">
<td style="text-align: right;">281</td>
<td style="text-align: left;">grey20</td>
</tr>
<tr class="even">
<td style="text-align: right;">282</td>
<td style="text-align: left;">grey21</td>
</tr>
<tr class="odd">
<td style="text-align: right;">283</td>
<td style="text-align: left;">grey22</td>
</tr>
<tr class="even">
<td style="text-align: right;">284</td>
<td style="text-align: left;">grey23</td>
</tr>
<tr class="odd">
<td style="text-align: right;">285</td>
<td style="text-align: left;">grey24</td>
</tr>
<tr class="even">
<td style="text-align: right;">286</td>
<td style="text-align: left;">grey25</td>
</tr>
<tr class="odd">
<td style="text-align: right;">287</td>
<td style="text-align: left;">grey26</td>
</tr>
<tr class="even">
<td style="text-align: right;">288</td>
<td style="text-align: left;">grey27</td>
</tr>
<tr class="odd">
<td style="text-align: right;">289</td>
<td style="text-align: left;">grey28</td>
</tr>
<tr class="even">
<td style="text-align: right;">290</td>
<td style="text-align: left;">grey29</td>
</tr>
<tr class="odd">
<td style="text-align: right;">291</td>
<td style="text-align: left;">grey30</td>
</tr>
<tr class="even">
<td style="text-align: right;">292</td>
<td style="text-align: left;">grey31</td>
</tr>
<tr class="odd">
<td style="text-align: right;">293</td>
<td style="text-align: left;">grey32</td>
</tr>
<tr class="even">
<td style="text-align: right;">294</td>
<td style="text-align: left;">grey33</td>
</tr>
<tr class="odd">
<td style="text-align: right;">295</td>
<td style="text-align: left;">grey34</td>
</tr>
<tr class="even">
<td style="text-align: right;">296</td>
<td style="text-align: left;">grey35</td>
</tr>
<tr class="odd">
<td style="text-align: right;">297</td>
<td style="text-align: left;">grey36</td>
</tr>
<tr class="even">
<td style="text-align: right;">298</td>
<td style="text-align: left;">grey37</td>
</tr>
<tr class="odd">
<td style="text-align: right;">299</td>
<td style="text-align: left;">grey38</td>
</tr>
<tr class="even">
<td style="text-align: right;">300</td>
<td style="text-align: left;">grey39</td>
</tr>
<tr class="odd">
<td style="text-align: right;">301</td>
<td style="text-align: left;">grey40</td>
</tr>
<tr class="even">
<td style="text-align: right;">302</td>
<td style="text-align: left;">grey41</td>
</tr>
<tr class="odd">
<td style="text-align: right;">303</td>
<td style="text-align: left;">grey42</td>
</tr>
<tr class="even">
<td style="text-align: right;">304</td>
<td style="text-align: left;">grey43</td>
</tr>
<tr class="odd">
<td style="text-align: right;">305</td>
<td style="text-align: left;">grey44</td>
</tr>
<tr class="even">
<td style="text-align: right;">306</td>
<td style="text-align: left;">grey45</td>
</tr>
<tr class="odd">
<td style="text-align: right;">307</td>
<td style="text-align: left;">grey46</td>
</tr>
<tr class="even">
<td style="text-align: right;">308</td>
<td style="text-align: left;">grey47</td>
</tr>
<tr class="odd">
<td style="text-align: right;">309</td>
<td style="text-align: left;">grey48</td>
</tr>
<tr class="even">
<td style="text-align: right;">310</td>
<td style="text-align: left;">grey49</td>
</tr>
<tr class="odd">
<td style="text-align: right;">311</td>
<td style="text-align: left;">grey50</td>
</tr>
<tr class="even">
<td style="text-align: right;">312</td>
<td style="text-align: left;">grey51</td>
</tr>
<tr class="odd">
<td style="text-align: right;">313</td>
<td style="text-align: left;">grey52</td>
</tr>
<tr class="even">
<td style="text-align: right;">314</td>
<td style="text-align: left;">grey53</td>
</tr>
<tr class="odd">
<td style="text-align: right;">315</td>
<td style="text-align: left;">grey54</td>
</tr>
<tr class="even">
<td style="text-align: right;">316</td>
<td style="text-align: left;">grey55</td>
</tr>
<tr class="odd">
<td style="text-align: right;">317</td>
<td style="text-align: left;">grey56</td>
</tr>
<tr class="even">
<td style="text-align: right;">318</td>
<td style="text-align: left;">grey57</td>
</tr>
<tr class="odd">
<td style="text-align: right;">319</td>
<td style="text-align: left;">grey58</td>
</tr>
<tr class="even">
<td style="text-align: right;">320</td>
<td style="text-align: left;">grey59</td>
</tr>
<tr class="odd">
<td style="text-align: right;">321</td>
<td style="text-align: left;">grey60</td>
</tr>
<tr class="even">
<td style="text-align: right;">322</td>
<td style="text-align: left;">grey61</td>
</tr>
<tr class="odd">
<td style="text-align: right;">323</td>
<td style="text-align: left;">grey62</td>
</tr>
<tr class="even">
<td style="text-align: right;">324</td>
<td style="text-align: left;">grey63</td>
</tr>
<tr class="odd">
<td style="text-align: right;">325</td>
<td style="text-align: left;">grey64</td>
</tr>
<tr class="even">
<td style="text-align: right;">326</td>
<td style="text-align: left;">grey65</td>
</tr>
<tr class="odd">
<td style="text-align: right;">327</td>
<td style="text-align: left;">grey66</td>
</tr>
<tr class="even">
<td style="text-align: right;">328</td>
<td style="text-align: left;">grey67</td>
</tr>
<tr class="odd">
<td style="text-align: right;">329</td>
<td style="text-align: left;">grey68</td>
</tr>
<tr class="even">
<td style="text-align: right;">330</td>
<td style="text-align: left;">grey69</td>
</tr>
<tr class="odd">
<td style="text-align: right;">331</td>
<td style="text-align: left;">grey70</td>
</tr>
<tr class="even">
<td style="text-align: right;">332</td>
<td style="text-align: left;">grey71</td>
</tr>
<tr class="odd">
<td style="text-align: right;">333</td>
<td style="text-align: left;">grey72</td>
</tr>
<tr class="even">
<td style="text-align: right;">334</td>
<td style="text-align: left;">grey73</td>
</tr>
<tr class="odd">
<td style="text-align: right;">335</td>
<td style="text-align: left;">grey74</td>
</tr>
<tr class="even">
<td style="text-align: right;">336</td>
<td style="text-align: left;">grey75</td>
</tr>
<tr class="odd">
<td style="text-align: right;">337</td>
<td style="text-align: left;">grey76</td>
</tr>
<tr class="even">
<td style="text-align: right;">338</td>
<td style="text-align: left;">grey77</td>
</tr>
<tr class="odd">
<td style="text-align: right;">339</td>
<td style="text-align: left;">grey78</td>
</tr>
<tr class="even">
<td style="text-align: right;">340</td>
<td style="text-align: left;">grey79</td>
</tr>
<tr class="odd">
<td style="text-align: right;">341</td>
<td style="text-align: left;">grey80</td>
</tr>
<tr class="even">
<td style="text-align: right;">342</td>
<td style="text-align: left;">grey81</td>
</tr>
<tr class="odd">
<td style="text-align: right;">343</td>
<td style="text-align: left;">grey82</td>
</tr>
<tr class="even">
<td style="text-align: right;">344</td>
<td style="text-align: left;">grey83</td>
</tr>
<tr class="odd">
<td style="text-align: right;">345</td>
<td style="text-align: left;">grey84</td>
</tr>
<tr class="even">
<td style="text-align: right;">346</td>
<td style="text-align: left;">grey85</td>
</tr>
<tr class="odd">
<td style="text-align: right;">347</td>
<td style="text-align: left;">grey86</td>
</tr>
<tr class="even">
<td style="text-align: right;">348</td>
<td style="text-align: left;">grey87</td>
</tr>
<tr class="odd">
<td style="text-align: right;">349</td>
<td style="text-align: left;">grey88</td>
</tr>
<tr class="even">
<td style="text-align: right;">350</td>
<td style="text-align: left;">grey89</td>
</tr>
<tr class="odd">
<td style="text-align: right;">351</td>
<td style="text-align: left;">grey90</td>
</tr>
<tr class="even">
<td style="text-align: right;">352</td>
<td style="text-align: left;">grey91</td>
</tr>
<tr class="odd">
<td style="text-align: right;">353</td>
<td style="text-align: left;">grey92</td>
</tr>
<tr class="even">
<td style="text-align: right;">354</td>
<td style="text-align: left;">grey93</td>
</tr>
<tr class="odd">
<td style="text-align: right;">355</td>
<td style="text-align: left;">grey94</td>
</tr>
<tr class="even">
<td style="text-align: right;">356</td>
<td style="text-align: left;">grey95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">357</td>
<td style="text-align: left;">grey96</td>
</tr>
<tr class="even">
<td style="text-align: right;">358</td>
<td style="text-align: left;">grey97</td>
</tr>
<tr class="odd">
<td style="text-align: right;">359</td>
<td style="text-align: left;">grey98</td>
</tr>
<tr class="even">
<td style="text-align: right;">360</td>
<td style="text-align: left;">grey99</td>
</tr>
<tr class="odd">
<td style="text-align: right;">361</td>
<td style="text-align: left;">grey100</td>
</tr>
<tr class="even">
<td style="text-align: right;">362</td>
<td style="text-align: left;">honeydew</td>
</tr>
<tr class="odd">
<td style="text-align: right;">363</td>
<td style="text-align: left;">honeydew1</td>
</tr>
<tr class="even">
<td style="text-align: right;">364</td>
<td style="text-align: left;">honeydew2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">365</td>
<td style="text-align: left;">honeydew3</td>
</tr>
<tr class="even">
<td style="text-align: right;">366</td>
<td style="text-align: left;">honeydew4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">367</td>
<td style="text-align: left;">hotpink</td>
</tr>
<tr class="even">
<td style="text-align: right;">368</td>
<td style="text-align: left;">hotpink1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">369</td>
<td style="text-align: left;">hotpink2</td>
</tr>
<tr class="even">
<td style="text-align: right;">370</td>
<td style="text-align: left;">hotpink3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">371</td>
<td style="text-align: left;">hotpink4</td>
</tr>
<tr class="even">
<td style="text-align: right;">372</td>
<td style="text-align: left;">indianred</td>
</tr>
<tr class="odd">
<td style="text-align: right;">373</td>
<td style="text-align: left;">indianred1</td>
</tr>
<tr class="even">
<td style="text-align: right;">374</td>
<td style="text-align: left;">indianred2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">375</td>
<td style="text-align: left;">indianred3</td>
</tr>
<tr class="even">
<td style="text-align: right;">376</td>
<td style="text-align: left;">indianred4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">377</td>
<td style="text-align: left;">ivory</td>
</tr>
<tr class="even">
<td style="text-align: right;">378</td>
<td style="text-align: left;">ivory1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">379</td>
<td style="text-align: left;">ivory2</td>
</tr>
<tr class="even">
<td style="text-align: right;">380</td>
<td style="text-align: left;">ivory3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">381</td>
<td style="text-align: left;">ivory4</td>
</tr>
<tr class="even">
<td style="text-align: right;">382</td>
<td style="text-align: left;">khaki</td>
</tr>
<tr class="odd">
<td style="text-align: right;">383</td>
<td style="text-align: left;">khaki1</td>
</tr>
<tr class="even">
<td style="text-align: right;">384</td>
<td style="text-align: left;">khaki2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">385</td>
<td style="text-align: left;">khaki3</td>
</tr>
<tr class="even">
<td style="text-align: right;">386</td>
<td style="text-align: left;">khaki4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">387</td>
<td style="text-align: left;">lavender</td>
</tr>
<tr class="even">
<td style="text-align: right;">388</td>
<td style="text-align: left;">lavenderblush</td>
</tr>
<tr class="odd">
<td style="text-align: right;">389</td>
<td style="text-align: left;">lavenderblush1</td>
</tr>
<tr class="even">
<td style="text-align: right;">390</td>
<td style="text-align: left;">lavenderblush2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">391</td>
<td style="text-align: left;">lavenderblush3</td>
</tr>
<tr class="even">
<td style="text-align: right;">392</td>
<td style="text-align: left;">lavenderblush4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">393</td>
<td style="text-align: left;">lawngreen</td>
</tr>
<tr class="even">
<td style="text-align: right;">394</td>
<td style="text-align: left;">lemonchiffon</td>
</tr>
<tr class="odd">
<td style="text-align: right;">395</td>
<td style="text-align: left;">lemonchiffon1</td>
</tr>
<tr class="even">
<td style="text-align: right;">396</td>
<td style="text-align: left;">lemonchiffon2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">397</td>
<td style="text-align: left;">lemonchiffon3</td>
</tr>
<tr class="even">
<td style="text-align: right;">398</td>
<td style="text-align: left;">lemonchiffon4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">399</td>
<td style="text-align: left;">lightblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">400</td>
<td style="text-align: left;">lightblue1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">401</td>
<td style="text-align: left;">lightblue2</td>
</tr>
<tr class="even">
<td style="text-align: right;">402</td>
<td style="text-align: left;">lightblue3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">403</td>
<td style="text-align: left;">lightblue4</td>
</tr>
<tr class="even">
<td style="text-align: right;">404</td>
<td style="text-align: left;">lightcoral</td>
</tr>
<tr class="odd">
<td style="text-align: right;">405</td>
<td style="text-align: left;">lightcyan</td>
</tr>
<tr class="even">
<td style="text-align: right;">406</td>
<td style="text-align: left;">lightcyan1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">407</td>
<td style="text-align: left;">lightcyan2</td>
</tr>
<tr class="even">
<td style="text-align: right;">408</td>
<td style="text-align: left;">lightcyan3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">409</td>
<td style="text-align: left;">lightcyan4</td>
</tr>
<tr class="even">
<td style="text-align: right;">410</td>
<td style="text-align: left;">lightgoldenrod</td>
</tr>
<tr class="odd">
<td style="text-align: right;">411</td>
<td style="text-align: left;">lightgoldenrod1</td>
</tr>
<tr class="even">
<td style="text-align: right;">412</td>
<td style="text-align: left;">lightgoldenrod2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">413</td>
<td style="text-align: left;">lightgoldenrod3</td>
</tr>
<tr class="even">
<td style="text-align: right;">414</td>
<td style="text-align: left;">lightgoldenrod4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">415</td>
<td style="text-align: left;">lightgoldenrodyellow</td>
</tr>
<tr class="even">
<td style="text-align: right;">416</td>
<td style="text-align: left;">lightgray</td>
</tr>
<tr class="odd">
<td style="text-align: right;">417</td>
<td style="text-align: left;">lightgreen</td>
</tr>
<tr class="even">
<td style="text-align: right;">418</td>
<td style="text-align: left;">lightgrey</td>
</tr>
<tr class="odd">
<td style="text-align: right;">419</td>
<td style="text-align: left;">lightpink</td>
</tr>
<tr class="even">
<td style="text-align: right;">420</td>
<td style="text-align: left;">lightpink1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">421</td>
<td style="text-align: left;">lightpink2</td>
</tr>
<tr class="even">
<td style="text-align: right;">422</td>
<td style="text-align: left;">lightpink3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">423</td>
<td style="text-align: left;">lightpink4</td>
</tr>
<tr class="even">
<td style="text-align: right;">424</td>
<td style="text-align: left;">lightsalmon</td>
</tr>
<tr class="odd">
<td style="text-align: right;">425</td>
<td style="text-align: left;">lightsalmon1</td>
</tr>
<tr class="even">
<td style="text-align: right;">426</td>
<td style="text-align: left;">lightsalmon2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">427</td>
<td style="text-align: left;">lightsalmon3</td>
</tr>
<tr class="even">
<td style="text-align: right;">428</td>
<td style="text-align: left;">lightsalmon4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: left;">lightseagreen</td>
</tr>
<tr class="even">
<td style="text-align: right;">430</td>
<td style="text-align: left;">lightskyblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">431</td>
<td style="text-align: left;">lightskyblue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">432</td>
<td style="text-align: left;">lightskyblue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">433</td>
<td style="text-align: left;">lightskyblue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">434</td>
<td style="text-align: left;">lightskyblue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">435</td>
<td style="text-align: left;">lightslateblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">436</td>
<td style="text-align: left;">lightslategray</td>
</tr>
<tr class="odd">
<td style="text-align: right;">437</td>
<td style="text-align: left;">lightslategrey</td>
</tr>
<tr class="even">
<td style="text-align: right;">438</td>
<td style="text-align: left;">lightsteelblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">439</td>
<td style="text-align: left;">lightsteelblue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">440</td>
<td style="text-align: left;">lightsteelblue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">441</td>
<td style="text-align: left;">lightsteelblue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">442</td>
<td style="text-align: left;">lightsteelblue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">443</td>
<td style="text-align: left;">lightyellow</td>
</tr>
<tr class="even">
<td style="text-align: right;">444</td>
<td style="text-align: left;">lightyellow1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">445</td>
<td style="text-align: left;">lightyellow2</td>
</tr>
<tr class="even">
<td style="text-align: right;">446</td>
<td style="text-align: left;">lightyellow3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">447</td>
<td style="text-align: left;">lightyellow4</td>
</tr>
<tr class="even">
<td style="text-align: right;">448</td>
<td style="text-align: left;">limegreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">449</td>
<td style="text-align: left;">linen</td>
</tr>
<tr class="even">
<td style="text-align: right;">450</td>
<td style="text-align: left;">magenta</td>
</tr>
<tr class="odd">
<td style="text-align: right;">451</td>
<td style="text-align: left;">magenta1</td>
</tr>
<tr class="even">
<td style="text-align: right;">452</td>
<td style="text-align: left;">magenta2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">453</td>
<td style="text-align: left;">magenta3</td>
</tr>
<tr class="even">
<td style="text-align: right;">454</td>
<td style="text-align: left;">magenta4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">455</td>
<td style="text-align: left;">maroon</td>
</tr>
<tr class="even">
<td style="text-align: right;">456</td>
<td style="text-align: left;">maroon1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">457</td>
<td style="text-align: left;">maroon2</td>
</tr>
<tr class="even">
<td style="text-align: right;">458</td>
<td style="text-align: left;">maroon3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">459</td>
<td style="text-align: left;">maroon4</td>
</tr>
<tr class="even">
<td style="text-align: right;">460</td>
<td style="text-align: left;">mediumaquamarine</td>
</tr>
<tr class="odd">
<td style="text-align: right;">461</td>
<td style="text-align: left;">mediumblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">462</td>
<td style="text-align: left;">mediumorchid</td>
</tr>
<tr class="odd">
<td style="text-align: right;">463</td>
<td style="text-align: left;">mediumorchid1</td>
</tr>
<tr class="even">
<td style="text-align: right;">464</td>
<td style="text-align: left;">mediumorchid2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">465</td>
<td style="text-align: left;">mediumorchid3</td>
</tr>
<tr class="even">
<td style="text-align: right;">466</td>
<td style="text-align: left;">mediumorchid4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">467</td>
<td style="text-align: left;">mediumpurple</td>
</tr>
<tr class="even">
<td style="text-align: right;">468</td>
<td style="text-align: left;">mediumpurple1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">469</td>
<td style="text-align: left;">mediumpurple2</td>
</tr>
<tr class="even">
<td style="text-align: right;">470</td>
<td style="text-align: left;">mediumpurple3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">471</td>
<td style="text-align: left;">mediumpurple4</td>
</tr>
<tr class="even">
<td style="text-align: right;">472</td>
<td style="text-align: left;">mediumseagreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">473</td>
<td style="text-align: left;">mediumslateblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">474</td>
<td style="text-align: left;">mediumspringgreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">475</td>
<td style="text-align: left;">mediumturquoise</td>
</tr>
<tr class="even">
<td style="text-align: right;">476</td>
<td style="text-align: left;">mediumvioletred</td>
</tr>
<tr class="odd">
<td style="text-align: right;">477</td>
<td style="text-align: left;">midnightblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">478</td>
<td style="text-align: left;">mintcream</td>
</tr>
<tr class="odd">
<td style="text-align: right;">479</td>
<td style="text-align: left;">mistyrose</td>
</tr>
<tr class="even">
<td style="text-align: right;">480</td>
<td style="text-align: left;">mistyrose1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">481</td>
<td style="text-align: left;">mistyrose2</td>
</tr>
<tr class="even">
<td style="text-align: right;">482</td>
<td style="text-align: left;">mistyrose3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">483</td>
<td style="text-align: left;">mistyrose4</td>
</tr>
<tr class="even">
<td style="text-align: right;">484</td>
<td style="text-align: left;">moccasin</td>
</tr>
<tr class="odd">
<td style="text-align: right;">485</td>
<td style="text-align: left;">navajowhite</td>
</tr>
<tr class="even">
<td style="text-align: right;">486</td>
<td style="text-align: left;">navajowhite1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">487</td>
<td style="text-align: left;">navajowhite2</td>
</tr>
<tr class="even">
<td style="text-align: right;">488</td>
<td style="text-align: left;">navajowhite3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">489</td>
<td style="text-align: left;">navajowhite4</td>
</tr>
<tr class="even">
<td style="text-align: right;">490</td>
<td style="text-align: left;">navy</td>
</tr>
<tr class="odd">
<td style="text-align: right;">491</td>
<td style="text-align: left;">navyblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">492</td>
<td style="text-align: left;">oldlace</td>
</tr>
<tr class="odd">
<td style="text-align: right;">493</td>
<td style="text-align: left;">olivedrab</td>
</tr>
<tr class="even">
<td style="text-align: right;">494</td>
<td style="text-align: left;">olivedrab1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">495</td>
<td style="text-align: left;">olivedrab2</td>
</tr>
<tr class="even">
<td style="text-align: right;">496</td>
<td style="text-align: left;">olivedrab3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">497</td>
<td style="text-align: left;">olivedrab4</td>
</tr>
<tr class="even">
<td style="text-align: right;">498</td>
<td style="text-align: left;">orange</td>
</tr>
<tr class="odd">
<td style="text-align: right;">499</td>
<td style="text-align: left;">orange1</td>
</tr>
<tr class="even">
<td style="text-align: right;">500</td>
<td style="text-align: left;">orange2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">501</td>
<td style="text-align: left;">orange3</td>
</tr>
<tr class="even">
<td style="text-align: right;">502</td>
<td style="text-align: left;">orange4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">503</td>
<td style="text-align: left;">orangered</td>
</tr>
<tr class="even">
<td style="text-align: right;">504</td>
<td style="text-align: left;">orangered1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">505</td>
<td style="text-align: left;">orangered2</td>
</tr>
<tr class="even">
<td style="text-align: right;">506</td>
<td style="text-align: left;">orangered3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">507</td>
<td style="text-align: left;">orangered4</td>
</tr>
<tr class="even">
<td style="text-align: right;">508</td>
<td style="text-align: left;">orchid</td>
</tr>
<tr class="odd">
<td style="text-align: right;">509</td>
<td style="text-align: left;">orchid1</td>
</tr>
<tr class="even">
<td style="text-align: right;">510</td>
<td style="text-align: left;">orchid2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">511</td>
<td style="text-align: left;">orchid3</td>
</tr>
<tr class="even">
<td style="text-align: right;">512</td>
<td style="text-align: left;">orchid4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">513</td>
<td style="text-align: left;">palegoldenrod</td>
</tr>
<tr class="even">
<td style="text-align: right;">514</td>
<td style="text-align: left;">palegreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">515</td>
<td style="text-align: left;">palegreen1</td>
</tr>
<tr class="even">
<td style="text-align: right;">516</td>
<td style="text-align: left;">palegreen2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">517</td>
<td style="text-align: left;">palegreen3</td>
</tr>
<tr class="even">
<td style="text-align: right;">518</td>
<td style="text-align: left;">palegreen4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">519</td>
<td style="text-align: left;">paleturquoise</td>
</tr>
<tr class="even">
<td style="text-align: right;">520</td>
<td style="text-align: left;">paleturquoise1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">521</td>
<td style="text-align: left;">paleturquoise2</td>
</tr>
<tr class="even">
<td style="text-align: right;">522</td>
<td style="text-align: left;">paleturquoise3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">523</td>
<td style="text-align: left;">paleturquoise4</td>
</tr>
<tr class="even">
<td style="text-align: right;">524</td>
<td style="text-align: left;">palevioletred</td>
</tr>
<tr class="odd">
<td style="text-align: right;">525</td>
<td style="text-align: left;">palevioletred1</td>
</tr>
<tr class="even">
<td style="text-align: right;">526</td>
<td style="text-align: left;">palevioletred2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">527</td>
<td style="text-align: left;">palevioletred3</td>
</tr>
<tr class="even">
<td style="text-align: right;">528</td>
<td style="text-align: left;">palevioletred4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">529</td>
<td style="text-align: left;">papayawhip</td>
</tr>
<tr class="even">
<td style="text-align: right;">530</td>
<td style="text-align: left;">peachpuff</td>
</tr>
<tr class="odd">
<td style="text-align: right;">531</td>
<td style="text-align: left;">peachpuff1</td>
</tr>
<tr class="even">
<td style="text-align: right;">532</td>
<td style="text-align: left;">peachpuff2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">533</td>
<td style="text-align: left;">peachpuff3</td>
</tr>
<tr class="even">
<td style="text-align: right;">534</td>
<td style="text-align: left;">peachpuff4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">535</td>
<td style="text-align: left;">peru</td>
</tr>
<tr class="even">
<td style="text-align: right;">536</td>
<td style="text-align: left;">pink</td>
</tr>
<tr class="odd">
<td style="text-align: right;">537</td>
<td style="text-align: left;">pink1</td>
</tr>
<tr class="even">
<td style="text-align: right;">538</td>
<td style="text-align: left;">pink2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">539</td>
<td style="text-align: left;">pink3</td>
</tr>
<tr class="even">
<td style="text-align: right;">540</td>
<td style="text-align: left;">pink4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">541</td>
<td style="text-align: left;">plum</td>
</tr>
<tr class="even">
<td style="text-align: right;">542</td>
<td style="text-align: left;">plum1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">543</td>
<td style="text-align: left;">plum2</td>
</tr>
<tr class="even">
<td style="text-align: right;">544</td>
<td style="text-align: left;">plum3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">545</td>
<td style="text-align: left;">plum4</td>
</tr>
<tr class="even">
<td style="text-align: right;">546</td>
<td style="text-align: left;">powderblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">547</td>
<td style="text-align: left;">purple</td>
</tr>
<tr class="even">
<td style="text-align: right;">548</td>
<td style="text-align: left;">purple1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">549</td>
<td style="text-align: left;">purple2</td>
</tr>
<tr class="even">
<td style="text-align: right;">550</td>
<td style="text-align: left;">purple3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">551</td>
<td style="text-align: left;">purple4</td>
</tr>
<tr class="even">
<td style="text-align: right;">552</td>
<td style="text-align: left;">red</td>
</tr>
<tr class="odd">
<td style="text-align: right;">553</td>
<td style="text-align: left;">red1</td>
</tr>
<tr class="even">
<td style="text-align: right;">554</td>
<td style="text-align: left;">red2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">555</td>
<td style="text-align: left;">red3</td>
</tr>
<tr class="even">
<td style="text-align: right;">556</td>
<td style="text-align: left;">red4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">557</td>
<td style="text-align: left;">rosybrown</td>
</tr>
<tr class="even">
<td style="text-align: right;">558</td>
<td style="text-align: left;">rosybrown1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">559</td>
<td style="text-align: left;">rosybrown2</td>
</tr>
<tr class="even">
<td style="text-align: right;">560</td>
<td style="text-align: left;">rosybrown3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">561</td>
<td style="text-align: left;">rosybrown4</td>
</tr>
<tr class="even">
<td style="text-align: right;">562</td>
<td style="text-align: left;">royalblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">563</td>
<td style="text-align: left;">royalblue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">564</td>
<td style="text-align: left;">royalblue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">565</td>
<td style="text-align: left;">royalblue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">566</td>
<td style="text-align: left;">royalblue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">567</td>
<td style="text-align: left;">saddlebrown</td>
</tr>
<tr class="even">
<td style="text-align: right;">568</td>
<td style="text-align: left;">salmon</td>
</tr>
<tr class="odd">
<td style="text-align: right;">569</td>
<td style="text-align: left;">salmon1</td>
</tr>
<tr class="even">
<td style="text-align: right;">570</td>
<td style="text-align: left;">salmon2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">571</td>
<td style="text-align: left;">salmon3</td>
</tr>
<tr class="even">
<td style="text-align: right;">572</td>
<td style="text-align: left;">salmon4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">573</td>
<td style="text-align: left;">sandybrown</td>
</tr>
<tr class="even">
<td style="text-align: right;">574</td>
<td style="text-align: left;">seagreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">575</td>
<td style="text-align: left;">seagreen1</td>
</tr>
<tr class="even">
<td style="text-align: right;">576</td>
<td style="text-align: left;">seagreen2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">577</td>
<td style="text-align: left;">seagreen3</td>
</tr>
<tr class="even">
<td style="text-align: right;">578</td>
<td style="text-align: left;">seagreen4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">579</td>
<td style="text-align: left;">seashell</td>
</tr>
<tr class="even">
<td style="text-align: right;">580</td>
<td style="text-align: left;">seashell1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">581</td>
<td style="text-align: left;">seashell2</td>
</tr>
<tr class="even">
<td style="text-align: right;">582</td>
<td style="text-align: left;">seashell3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">583</td>
<td style="text-align: left;">seashell4</td>
</tr>
<tr class="even">
<td style="text-align: right;">584</td>
<td style="text-align: left;">sienna</td>
</tr>
<tr class="odd">
<td style="text-align: right;">585</td>
<td style="text-align: left;">sienna1</td>
</tr>
<tr class="even">
<td style="text-align: right;">586</td>
<td style="text-align: left;">sienna2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">587</td>
<td style="text-align: left;">sienna3</td>
</tr>
<tr class="even">
<td style="text-align: right;">588</td>
<td style="text-align: left;">sienna4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">589</td>
<td style="text-align: left;">skyblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">590</td>
<td style="text-align: left;">skyblue1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">591</td>
<td style="text-align: left;">skyblue2</td>
</tr>
<tr class="even">
<td style="text-align: right;">592</td>
<td style="text-align: left;">skyblue3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">593</td>
<td style="text-align: left;">skyblue4</td>
</tr>
<tr class="even">
<td style="text-align: right;">594</td>
<td style="text-align: left;">slateblue</td>
</tr>
<tr class="odd">
<td style="text-align: right;">595</td>
<td style="text-align: left;">slateblue1</td>
</tr>
<tr class="even">
<td style="text-align: right;">596</td>
<td style="text-align: left;">slateblue2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">597</td>
<td style="text-align: left;">slateblue3</td>
</tr>
<tr class="even">
<td style="text-align: right;">598</td>
<td style="text-align: left;">slateblue4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">599</td>
<td style="text-align: left;">slategray</td>
</tr>
<tr class="even">
<td style="text-align: right;">600</td>
<td style="text-align: left;">slategray1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">601</td>
<td style="text-align: left;">slategray2</td>
</tr>
<tr class="even">
<td style="text-align: right;">602</td>
<td style="text-align: left;">slategray3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">603</td>
<td style="text-align: left;">slategray4</td>
</tr>
<tr class="even">
<td style="text-align: right;">604</td>
<td style="text-align: left;">slategrey</td>
</tr>
<tr class="odd">
<td style="text-align: right;">605</td>
<td style="text-align: left;">snow</td>
</tr>
<tr class="even">
<td style="text-align: right;">606</td>
<td style="text-align: left;">snow1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">607</td>
<td style="text-align: left;">snow2</td>
</tr>
<tr class="even">
<td style="text-align: right;">608</td>
<td style="text-align: left;">snow3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">609</td>
<td style="text-align: left;">snow4</td>
</tr>
<tr class="even">
<td style="text-align: right;">610</td>
<td style="text-align: left;">springgreen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">611</td>
<td style="text-align: left;">springgreen1</td>
</tr>
<tr class="even">
<td style="text-align: right;">612</td>
<td style="text-align: left;">springgreen2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">613</td>
<td style="text-align: left;">springgreen3</td>
</tr>
<tr class="even">
<td style="text-align: right;">614</td>
<td style="text-align: left;">springgreen4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">615</td>
<td style="text-align: left;">steelblue</td>
</tr>
<tr class="even">
<td style="text-align: right;">616</td>
<td style="text-align: left;">steelblue1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">617</td>
<td style="text-align: left;">steelblue2</td>
</tr>
<tr class="even">
<td style="text-align: right;">618</td>
<td style="text-align: left;">steelblue3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">619</td>
<td style="text-align: left;">steelblue4</td>
</tr>
<tr class="even">
<td style="text-align: right;">620</td>
<td style="text-align: left;">tan</td>
</tr>
<tr class="odd">
<td style="text-align: right;">621</td>
<td style="text-align: left;">tan1</td>
</tr>
<tr class="even">
<td style="text-align: right;">622</td>
<td style="text-align: left;">tan2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">623</td>
<td style="text-align: left;">tan3</td>
</tr>
<tr class="even">
<td style="text-align: right;">624</td>
<td style="text-align: left;">tan4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">625</td>
<td style="text-align: left;">thistle</td>
</tr>
<tr class="even">
<td style="text-align: right;">626</td>
<td style="text-align: left;">thistle1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">627</td>
<td style="text-align: left;">thistle2</td>
</tr>
<tr class="even">
<td style="text-align: right;">628</td>
<td style="text-align: left;">thistle3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">629</td>
<td style="text-align: left;">thistle4</td>
</tr>
<tr class="even">
<td style="text-align: right;">630</td>
<td style="text-align: left;">tomato</td>
</tr>
<tr class="odd">
<td style="text-align: right;">631</td>
<td style="text-align: left;">tomato1</td>
</tr>
<tr class="even">
<td style="text-align: right;">632</td>
<td style="text-align: left;">tomato2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">633</td>
<td style="text-align: left;">tomato3</td>
</tr>
<tr class="even">
<td style="text-align: right;">634</td>
<td style="text-align: left;">tomato4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">635</td>
<td style="text-align: left;">turquoise</td>
</tr>
<tr class="even">
<td style="text-align: right;">636</td>
<td style="text-align: left;">turquoise1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">637</td>
<td style="text-align: left;">turquoise2</td>
</tr>
<tr class="even">
<td style="text-align: right;">638</td>
<td style="text-align: left;">turquoise3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">639</td>
<td style="text-align: left;">turquoise4</td>
</tr>
<tr class="even">
<td style="text-align: right;">640</td>
<td style="text-align: left;">violet</td>
</tr>
<tr class="odd">
<td style="text-align: right;">641</td>
<td style="text-align: left;">violetred</td>
</tr>
<tr class="even">
<td style="text-align: right;">642</td>
<td style="text-align: left;">violetred1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">643</td>
<td style="text-align: left;">violetred2</td>
</tr>
<tr class="even">
<td style="text-align: right;">644</td>
<td style="text-align: left;">violetred3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">645</td>
<td style="text-align: left;">violetred4</td>
</tr>
<tr class="even">
<td style="text-align: right;">646</td>
<td style="text-align: left;">wheat</td>
</tr>
<tr class="odd">
<td style="text-align: right;">647</td>
<td style="text-align: left;">wheat1</td>
</tr>
<tr class="even">
<td style="text-align: right;">648</td>
<td style="text-align: left;">wheat2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">649</td>
<td style="text-align: left;">wheat3</td>
</tr>
<tr class="even">
<td style="text-align: right;">650</td>
<td style="text-align: left;">wheat4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">651</td>
<td style="text-align: left;">whitesmoke</td>
</tr>
<tr class="even">
<td style="text-align: right;">652</td>
<td style="text-align: left;">yellow</td>
</tr>
<tr class="odd">
<td style="text-align: right;">653</td>
<td style="text-align: left;">yellow1</td>
</tr>
<tr class="even">
<td style="text-align: right;">654</td>
<td style="text-align: left;">yellow2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">655</td>
<td style="text-align: left;">yellow3</td>
</tr>
<tr class="even">
<td style="text-align: right;">656</td>
<td style="text-align: left;">yellow4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">657</td>
<td style="text-align: left;">yellowgreen</td>
</tr>
</tbody>
</table>
</div>

</div>
</div></li>
</ul>
<hr>
<ul>
<li>Manejar colores por nombres nos permite recordarlos fácilmente, pero es bastante limitado, a pesar de los más de 600 colores de la lista, no es nada comparado con los más de 16 millones de colores que podemos generar con sistemas como RGB o HEX (aunque tampoco necesitamos tantos colores, ni todas las pantallas pueden generarlos ni nosotros notamos la diferencia)</li>
</ul>
<section id="rgb" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="rgb"><span class="header-section-number">2.5.1</span> RGB</h3>
<ul>
<li><p>Iniciales de los colores primarios (en inglés): R: <em>Red</em>; G: <em>Green</em>; B: <em>Blue.</em> Se basa en la combinación de diferentes niveles de intensidad para cada uno de estos colores</p></li>
<li><p>Se representa como una terna, donde cada valor está, por lo general, entre 0 y 255 (también en escala de 0 a 1 o en porcentajes de 0 a 100). Equivalencia de los colores primarios:</p>
<ul>
<li>Rojo: rgb(255, 0, 0)</li>
<li>Verde: rgb(0, 255, 0)</li>
<li>Azul: rgb(0, 0, 255)</li>
</ul></li>
<li><p>Algunos colores en sistema RGB (intente comprender el código completo, no se usa ggplot2 sino la función base <code>plot</code> de <code>R</code>, ejecute <code>?plot</code> en la consola para ver la documentación si quiere aprender a usar esta función base de <code>R</code>)</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-13_a47e45b308b70c554616f8e36412c8c3">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">3</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">230</span>,<span class="dv">50</span>,<span class="dv">110</span>, <span class="at">maxColorValue =</span> <span class="dv">255</span>), </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">rgb</span>(<span class="dv">20</span>,<span class="dv">50</span>,<span class="dv">10</span>, <span class="at">maxColorValue =</span> <span class="dv">100</span>), </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">rgb</span>(<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>)), </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Algunos colores con RGB"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">4</span>),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab=</span><span class="st">""</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">cex =</span> <span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div></li>
<li><p>Por defecto, la función <code>rgb()</code> en <code>R</code>, tomará como valor máximo de la escala el 1, así que si se está trabajando en la escala 0-255 (lo más usual), es necesario establecer <code>maxColorValue=255</code>, en realidad de puede trabajar con cualquier valor positivo, <code>R</code> hará la conversión de forma adecuada.</p></li>
<li><p>los 256 posibles valores para cada componente (0-255), pueden producir en total <span class="math inline">\(256^3=16777216\)</span>, ¡más de 16 millones de colores!</p></li>
<li><p>Es posible agregar un valor <span class="math inline">\(\alpha\)</span> de <em>opacidad</em> a los colores (estudie y comprenda el siguiente código)</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-14_71818919446e614304e329d82793ec5a">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>alfa <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">255</span>, <span class="at">by =</span> <span class="dv">25</span>) <span class="co"># ¿qué hace esto?</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="fu">length</span>(alfa)), </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="fu">rgb</span>(<span class="dv">17</span>, <span class="dv">125</span>, <span class="dv">0</span>, <span class="at">maxColorValue =</span> <span class="dv">255</span>, <span class="at">alpha =</span> alfa), </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="dv">10</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">""</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">12</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Agregar opacidad al color"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div></li>
</ul>
</section>
<section id="hexadecimal" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="hexadecimal"><span class="header-section-number">2.5.2</span> Hexadecimal</h3>
<ul>
<li><p>El sistema hexadecimal consta de 6 posiciones 👨‍🏫, las primeras 2 para el rojo, las siguientes para el verde y las últimas para el azul. Cada una de estas varía entre 00 y FF. Equivalencia de los colores primarios:</p>
<ul>
<li>Rojo: #FF0000</li>
<li>Verde: #00FF00</li>
<li>Azul: #0000FF</li>
</ul></li>
<li><p>Hay una correspondencia uno a uno entre ambos sistemas (RGB y HEX). Al igual que el sistema RGB, se puede agregar una propiedad de opacidad al agregar 2 posiciones más (también entre 00 y FF) al sistema Hexadecimal.</p></li>
<li><p>Algunos colores en sistema Hexadecimal</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-15_03e69189c11f787fa5b7028ca8d001fc">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">7</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"#AD504E"</span>, <span class="st">"#5F9EA0"</span>, <span class="st">"#009ACD"</span>, <span class="st">"#435EBF"</span>, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"#2F5A63"</span>, <span class="st">"#2F5A63A6"</span>, <span class="st">"#2F5A6355"</span>),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex =</span> <span class="dv">10</span>, <span class="at">pch =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">""</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">8</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"Algunos colores con Hexadecimal"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div></li>
<li><p>La equivalencia de los colores primarios en los sistemas RGB y Hex, se resume en la imagen</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/color.png" class="img-fluid figure-img" style="width:70.0%"></p>
<figcaption class="figure-caption">Tomado de <a href="https://www.w3schools.com/colors/default.asp" class="uri">https://www.w3schools.com/colors/default.asp</a></figcaption>
</figure>
</div>
<ul>
<li><p>La función <code>rgb()</code> convierte el código RGB a Hexadecimal. También se puede hacer lo contrario con la función <code>col2rgb()</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-16_f47f2322fa0d8d8fee4e4e6cce041b55">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rgb</span>(<span class="dv">255</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="at">maxColorValue =</span> <span class="dv">255</span>) <span class="co"># De RGB a Hexadecimal</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "#FF0000"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">col2rgb</span>(<span class="st">"#FF0000"</span>) <span class="co"># De Hexadecimal a RGB</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]
red    255
green    0
blue     0</code></pre>
</div>
</div></li>
<li><p>Dado que estamos hablando de colores, sin duda alguna lo más natural y sencillo es verlos en lugar de memorizar códigos. Hay muchas herramientas <em>online</em> que sirven como mezcladores de colores y nos devuelven los respectivos códigos en diferentes sistemas. Puede consultar el siguiente tutorial para más detalles</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.w3schools.com/colors/colors_picker.asp" target="_blank"><img src="images/colpickerw3.png" title="Clic para ir al sitio" class="img-fluid figure-img" style="width:70.0%"></a></p>
</figure>
</div>
<ul>
<li><p>En Rstudio podemos instalar el complemento <code>colourPicker</code> con <code>install.packages("colourpicker")</code>. Al hacerlo se activa en el botón <em>Addins</em> un nuevo complemento.</p>
<p><img src="images/rstudio-pick1.png" class="img-fluid" style="width:45.0%"> <img src="images/rstudio-pick2.png" class="img-fluid" style="width:45.0%"></p></li>
</ul>
</section>
</section>
<section id="volviendo-a-ggplot2" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="volviendo-a-ggplot2"><span class="header-section-number">2.6</span> Volviendo a <code>ggplot2</code></h2>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-17_9def6660cd83677e3697b185ad0902eb">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"#FA88FC9B"</span>, <span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Conteo"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos distribuidos en 3 islas y 3 especies"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Podemos cambiar la orientación del histograma al cambiar la variable en el argumento <code>mapping</code> y actualizar las etiquetas del gráfico</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-18_0aac9b61c5e8e2d7d39b21c46c16a76f">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill=</span><span class="st">"#FFD08594"</span>, <span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Conteo"</span>,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos distribuidos en 3 islas y 3 especies"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Un gráfico de densidad se obtiene con <code>geom_density()</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-19_89cbc53eb7cfe9f07dcec3e431830732">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">"aliceblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos distribuidos en 3 islas y 3 especies"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Posición del signo “+”
</div>
</div>
<div class="callout-body-container callout-body">
<p>el signo <kbd>+</kbd> <strong>NO</strong> debe ir al comienzo de una línea, puede ir como último elemento de la línea pero no de primero</p>
</div>
</div>
<p>El siguiente código mostrará un error debido a la posición errada del signo <kbd>+</kbd></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-20_ac4467fbd74b16b139cf04f2b01efaae">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">"aliceblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos distribuidos en 3 islas y 3 especies"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Error:</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="do">## ! Cannot use `+` with a single argument</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="do">## ℹ Did you accidentally put `+` on a new line?</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Siguiendo la lógica de construcción de las gráficas anteriores, no debe ser difícil ahora crear un diagrama de cajas, la geometría necesaria tiene el nombre que uno esperaría: <code>geom_boxplot()</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-21_35afa10e17bfe314264ec1063fd02a33">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Diagrama de Cajas para el peso en gramos de los Pingüinos"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso en gramos"</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="caso-2.-una-variable-numérica-y-una-categórica-o-factor" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="caso-2.-una-variable-numérica-y-una-categórica-o-factor"><span class="header-section-number">2.7</span> Caso 2. Una variable numérica y una categórica o factor</h2>
<p>Al agregar una variable categórica o factor, podemos obtener información más detallada de la distribución del peso de los pingüinos por especie o isla</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-22_3d960aaf9791f9700b4e3643afbc4e38">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">fill=</span>species)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">color=</span><span class="st">"black"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>¿Cómo actúa el argumento <code>fill</code> dentro de <code>aes()</code> y por qué es diferente cuando se usa como argumento dentro de <code>geom_histogram</code>?<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<p>Note que se agregan leyendas de forma automática y las podemos personalizar. El argumento <code>alpha</code> agrega opacidad (transparencia) al color, debe ser un valor entre 0 (totalmente transparente) y 1 (totalmente opaco)</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-23_c9d0e479638359d0031eb939b822007d">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">binwidth =</span> <span class="dv">200</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso de los Pingüinos del Archipiélago de Palmer"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Conteo"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Especie"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de 333 pingüinos discriminados por especies"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Al igual que con el histograma, podemos combinar la variable categórica para construir gráficos de densidad y gráficos de caja por cada categoría</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-24_62c469a264ce7dc1a597fd27e583030c">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribución del peso por especie"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Especie"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Los gráficos de densidad por categoría sobre la misma escala son muy útiles. El resultado anterior puede ser un poco desalentador ya que los gráficos se superponen, agregamos transparencia al color para tener una mejor lectura, pero una mejor opción es variar un poco la escala en el eje vertical para cada densidad<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. <code>ggplot2</code> no tiene soporte para este tipo de gráficos, pero podemos agregar una extensión que nos permite crearlos fácilmente (existen muchas extensiones para <code>ggplot</code>). La librería que debemos agregar es <code>ggridges</code>, instalamos desde la consola <code>install.packages("ggridges")</code> y cargamos la librería para poder usarla: <code>library(ggridges)</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-25_0bca1d1aab885efdc7d66337f8cd5893">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggridges") # haga esto en la consola</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> species)) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 153</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Podemos controlar el aspecto del gráfico con algunos parámetros que ya son familiares, tales como <code>color</code>, <code>fill</code> entre otros. El parámetro <code>scale</code> permite controlar la superposición de los gráficos, cuando toma el valor de 1, los gráficos apenas se <em>tocan</em>. Entre más cercano el valor a 0, más separados, entre más alto el valor, estarán más superpuestos</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-26_89713ac529c6fcca8e3ead83ef087114">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> species, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribución del peso por especie"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Especie"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Especie"</span>,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Peso en gramos"</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">geom_density_ridges</span>(<span class="at">color =</span> <span class="st">"red"</span>, </span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>                      <span class="at">scale =</span> <span class="fl">0.5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">scale =</span> <span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-26-2.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Teniendo en cuenta lo aprendido hasta ahora, intente reproducir el siguiente gráfico de cajas del peso de los pingüinoss por islas</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-27_9a9245f1fdd646d33c54538114cb1d07">
<details>
<summary>Click para mostrar el código</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">y =</span> body_mass_g, <span class="at">fill =</span> island)) <span class="sc">+</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribución del peso por isla"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Especie"</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Isla"</span>,</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso en gramos"</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<div id="exr-ej1" class="theorem exercise">
<p><span class="theorem-title"><strong>Ejercicio 2.1 </strong></span>Invierta la orientación del gráfico anterior</p>
</div>
<hr>
<p>Un gráfico muy popular con un propósito similar al diagrama de cajas, es el gráfico de violín. Se puede construir usando <code>ggplot2</code> con la misma sencillez que los anteriores gráficos</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-28_4b38ee25e80a96c52733c426d0c7c68c">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">y =</span> body_mass_g, <span class="at">fill =</span> island)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribución del peso por Isla"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Isla"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Isla"</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Sería interesante agregar sobre el mismo sistema de coordenadas, gráfico de violín y gráfico de caja</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-29_d501bb238d971430e067c8b531ab9b0e">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">y =</span> body_mass_g, <span class="at">fill =</span> island)) <span class="sc">+</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()<span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribución del peso por Isla"</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Isla"</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso en gramos"</span>,</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Isla"</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Esta combinación de gráficos es bastante usual, aunque nuestro resultado no es el mejor, afinarlo requiere del uso de otras librerías. Más adelante volveremos a este tipo de gráficos.</p>
</section>
<section id="caso-3.-dos-variables-numéricas" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="caso-3.-dos-variables-numéricas"><span class="header-section-number">2.8</span> Caso 3. Dos variables numéricas</h2>
<p>El gráfico más común para este caso es el diagrama de dispersión. Observemos la relación que hay entre el peso del pingüino y la longitud de la aleta</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-30_3e1eae6080d6fe02657a12bec45cb373">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Con algo más de trabajo, podemos personalizar<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> el resultado, agregando una forma a los puntos con <em>shape</em>, modificando el tamaño de los puntos con <em>size</em>, coloreando con <em>colour</em> y <em>fill</em>, modificando el ancho del marco de los puntos con <em>stroke</em></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-31_28a120c5e3108d653db2e2ba7d2e83c4">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">23</span>, <span class="at">fill =</span> <span class="st">"white"</span>, </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">"purple"</span>, <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">stroke =</span> <span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>En <code>R</code> hay un total de 25 formas (argumento <em>shape</em>) básicas para representar estos puntos</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-32_04cba7b4a7c54b9f3a55993871c5fb07">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>) <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="at">size =</span> <span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Todas estas formas admiten el argumento de color y de la forma 21 a 25 admiten además un argumento de relleno (<em>fill</em>). Reuniendo todo lo anterior, podemos crear un gráfico más detallado</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-33_d4992281a2d62bb785e2cf5e615d1a37">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">22</span>, <span class="at">fill =</span> <span class="st">"#37C790E6"</span>, <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso vs Longitud de la aleta"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Podemos agregar distribuciones marginales a este diagrama de dispersión, usando el paquete <code>ggExtra</code>. Instale desde la consola: <code>install.packages("ggExtra")</code>. Veamos un ejemplo</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-34_d279c2d810b7ffe44534e0a52a54c416">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">22</span>, <span class="at">fill =</span> <span class="st">"#37C790E6"</span>, <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso vs Longitud de la aleta"</span>,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggMarginal</span>(<span class="at">p =</span> p1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>La función <code>ggMarginal</code> del paquete <code>ggExtra</code> no funciona con el operador <em>pipe</em>, por lo que es necesario guardar el objeto <code>ggplot2</code> (gráfico) en una variable para luego aplicar la función <code>ggMarginal</code> sobre esta variable. Cambiando algunos detalles del gráfico anterior, obtenemos</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-35_39fe3bd3081a81c0933fa91e0e56e492">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">22</span>, <span class="at">fill =</span> <span class="st">"#37C790E6"</span>, <span class="at">colour =</span> <span class="st">"black"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso vs Longitud de la aleta"</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggMarginal</span>(<span class="at">p =</span> p1, </span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">"histogram"</span>, </span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">4</span>, </span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">"slateblue"</span>,</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">bins =</span> <span class="dv">20</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Otro tipo de gráfico útil para estudiar la relación entre dos variables numéricas es el de densidad en dos dimensiones.</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-36_719d25f626f6097d902625d05b096a46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Para modificar de forma manual la escala de valores de los ejes, agregamos <code>xlim(inf_x, sup_x)</code> y <code>ylim(inf_y, sup_y)</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-37_eb649549b4f893cee5734f8e121943f1">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d</span>() <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="cn">NA</span>, <span class="dv">240</span>) <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">2000</span>, <span class="dv">6500</span>) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Densidad conjunta"</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>O en un intento de automatizar más el cálculo de la escala de los ejes</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-38_4530ac14214ee8d7547694745405451d">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d</span>() <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fl">0.98</span><span class="sc">*</span><span class="fu">min</span>(penguins<span class="sc">$</span>flipper_length_mm), </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>       <span class="fl">1.02</span><span class="sc">*</span><span class="fu">max</span>(penguins<span class="sc">$</span>flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fl">0.95</span><span class="sc">*</span><span class="fu">min</span>(penguins<span class="sc">$</span>body_mass_g), </span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>       <span class="fl">1.02</span><span class="sc">*</span><span class="fu">max</span>(penguins<span class="sc">$</span>body_mass_g)) <span class="sc">+</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Densidad conjunta"</span>,</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Volveremos después a revisar con más detalle estos gráficos.</p>
</section>
<section id="caso-4.-dos-variables-numéricas-y-una-categórica" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="caso-4.-dos-variables-numéricas-y-una-categórica"><span class="header-section-number">2.9</span> Caso 4. Dos variables numéricas y una categórica</h2>
<p>En el siguiente gráfico de dispersión, agregamos la información de la especie y además un modelo ajustado a los datos. Comparemos los dos resultados para comprender una característica fundamental de <code>ggplot2</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-39_8752ee8b04a3f62f9a723d891204379b">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> body_mass_g, </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">colour =</span> species)) <span class="sc">+</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-40_8cbb3e93d0cde47fdd73223995a4534c">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">colour =</span> species)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Los valores de <code>data</code> y <code>magpping = aes()</code> declarados en la función <code>ggplot()</code> se consideran globales, cada geometría o capa agregada heredará estos valores, pero pueden ser reemplazados por declaraciones locales dentro de cada geometría. Eso quiere decir que cada geometría puede tener su propio conjunto de datos y su propia forma de mapear los datos en el gráfico, permitiendo así una gran flexibilidad.</p>
<p>En el primer código se mapeó el atributo color con la variable especie, por eso al aplicar <code>geom_smooth()</code> se crea una estimación para cada tipo de especie. En el segundo código, el mapeo de color se hace dentro de <code>geom_point()</code> por lo que solo aplica para esa geometría en particular, al aplicar <code>geom_smooth()</code> no se tiene en cuenta ya que no se ha declarado globalmente dentro de la función <code>ggplot()</code></p>
<p>Explique cada componente del siguiente gráfico</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-41_dcd8a53b62843c31599d991b6dc3b4f4">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g,)) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species, <span class="at">shape =</span> species), <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"#8A0200"</span>, <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso Vs Longitud de la aleta"</span>,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span>,</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Especie"</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="st">"Especie"</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Usando el paquete <code>ggthemes</code> podemos mejorar la presentación del gráfico<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-42_1293eaf4242691727d66f3d01614312a">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g,)) <span class="sc">+</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Peso Vs Longitud de la aleta"</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span>,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Especie"</span>,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="st">"Especie"</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> ggthemes<span class="sc">::</span><span class="fu">scale_colour_colorblind</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geometrías" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="geometrías"><span class="header-section-number">2.10</span> Geometrías</h2>
<p>Ya que hemos revisado el funcionamiento básico de <code>ggplot2</code>, podemos echarle un vistazo a las geometrías disponibles. La apariencia de la mayoría de ellas puede deducirse de su nombre, podemos encontrar una explicación detallada en la <a href="https://ggplot2.tidyverse.org/index.html" target="_blank">página de referencia</a> de <code>ggplot2</code></p>
<ul>
<li>Utilizadas hasta ahora
<ul>
<li><code>geom_point()</code></li>
<li><code>geom_histogram()</code></li>
<li><code>geom_density()</code></li>
<li><code>geom_density_2d()</code></li>
<li><code>geom_boxplot()</code></li>
<li><code>geom_smooth()</code></li>
</ul></li>
<li>Algunas que faltan
<ul>
<li><code>geom_abline()</code>, <code>geom_hline()</code>, <code>geom_vline()</code>: Para agregar líneas rectas oblicuas (dado un intercepto y pendiente), horizontales y verticales</li>
<li><code>geom_bar()</code>, <code>geom_col()</code>: Para construir diagramas de barras <!-- + `geom_contour()`, `geom_contour_filled()`: Para hacer gráficas de contorno 🤯 --></li>
<li><code>geom_density_2d_filled</code>: Para gráficas de contorno con relleno 🤯</li>
<li><code>geom_function()</code></li>
<li><code>geom_freqpoly()</code></li>
<li><code>geom_path()</code>, <code>geom_line()</code></li>
</ul></li>
</ul>
<p>Como se ha dicho en varias ocasiones, gran parte del trabajo es aprender el tipo de geometría a usar dependiendo del tipo de variables involucradas. Observemos las siguientes gráficas a las que no se les agrega mayor detalle para revisar rápidamente las diferentes geometrías.</p>
<section id="geom_abline-geom_hline-geom_vline" class="level3" data-number="2.10.1">
<h3 data-number="2.10.1" class="anchored" data-anchor-id="geom_abline-geom_hline-geom_vline"><span class="header-section-number">2.10.1</span> <code>geom_abline()</code>, <code>geom_hline()</code>, <code>geom_vline()</code></h3>
<p>Las líneas admiten parámetros de <code>linewidth</code>, <code>color</code>, <code>linetype</code>, <code>alpha</code>. El siguiente gráfico no tiene otro propósito diferente al de utilizar varias de estas opciones, aunque el gráfico resultante sea poco útil</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-43_1ef0cdba55381af00cf122bb361fca9f">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>, <span class="dv">6000</span>),</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"red"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="dv">1</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">seq</span>(<span class="dv">170</span>, <span class="dv">230</span>, <span class="at">length.out =</span> <span class="dv">6</span>),</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"blue"</span>, </span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">60</span>,</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">intercept =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">6000</span>,<span class="sc">-</span><span class="dv">10000</span>)) <span class="sc">+</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Para el caso de <code>geom_hline()</code> y <code>geom_vline()</code> se deben agregar las intercepciones en el eje Y y el eje X, respectivamente. Esto puede hacerse a través de un valor numérico o un vector. Para el caso de <code>geom_abline()</code> se requiere una pendiente (<em>slope</em>) y un intercepto (<em>intercept</em>), <code>ggplot2</code> reciclará uno de los valores si es necesario.</p>
<p>Los tipos de línea disponibles son: <em>blank, solid, dashed, dotted, dotdash, longdash, twodash</em>. Se pueden identificar de forma ordenada con los dígitos del 0 al 6, por lo que <code>linetype = "dashed"</code> es equivalente a <code>linetype = 2</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-44_51b498aab9422c2176716c12bc29c89e">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">linetype =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>El gráfico anterior muestra algo interesante, estas geometrías en realidad no necesitan una base de datos para poder crearse, ya que son reglas o funciones. Para los más exigentes en la personalización, se puede crear un patrón con hasta 8 dígitos hexadecimales (1,…,9,a,b,…,f) indicando un patrón de línea y espacio (así que deben ser 2,4,6 u 8 dígitos). El valor <code>1</code> es el menor y <code>f</code> el mayor. El patrón “5a3f” indica una línea de longitud <code>5</code> seguida de un espacio de longitud <code>a</code> luego una línea de longitud <code>3</code> y un espacio de longitud <code>f</code>, este patrón se repetirá hasta completar la gráfica.</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-45_534975cc638d624830d48cef31946d86">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"red"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">linewidth =</span> <span class="dv">2</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="fu">c</span>(<span class="st">"11"</span>, <span class="st">"f4f2"</span>, <span class="st">"224466"</span>, <span class="st">"a5b6c7d8"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_bar-geom_col" class="level3" data-number="2.10.2">
<h3 data-number="2.10.2" class="anchored" data-anchor-id="geom_bar-geom_col"><span class="header-section-number">2.10.2</span> <code>geom_bar()</code>, <code>geom_col()</code></h3>
<p><code>geom_bar()</code> y <code>geom_col()</code> son adecuados para hacer gráficas que incluyen variables categóricas, con <code>geom_bar()</code> se cuenta el número de casos de cada categoría y con <code>geom_col()</code> se grafican los valores en los datos para cada categoría.</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-46_753c863939f1f498a427a76277027d2d">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"#ddffeeaa"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Si agregamos una segunda variable categórica, las barras saldrán apiladas. Mapeamos por ejemplo <code>fill = species</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-47_ea2cbc75c3d768419c8f5d354bf8cd43">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Algunas veces, es más útil mostrar la proporción de una categoría dentro de otra. En este caso, cómo está distribuida la proporción de cada especie en cada isla</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-48_9656bc6399c23ba74811c64a65467ed4">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Podemos agregar las barras por categoría, lado a lado usando <code>position = "dodge"</code> o <code>position = "dodge2"</code>, en la segunda opción se agregará un espacio para separar los grupos en cada categoría</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-49_a5835e49a83054d3c37d052e9aadbac1">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge2"</span>)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>p1; p2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell quarto-layout-cell" data-hash="uso-ggplot2_cache/html/unnamed-chunk-50_a8335a1404302fc27fc1ec07038a63a0" style="flex-basis: 50.0%;justify-content: center;">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell quarto-layout-cell" data-hash="uso-ggplot2_cache/html/unnamed-chunk-51_970de781f83a628c80ceb83efa6bbc12" style="flex-basis: 50.0%;justify-content: center;">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>Para mostrar el funcionamiento de <code>geom_col()</code> agrupamos los datos en <code>penguins</code> con la variable <code>species</code> y agregamos algunas variables nuevas<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-52_3f7e5107e335f08161d02a327ef9b6c4">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cantidad =</span> <span class="fu">n</span>(), </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">peso_promedio =</span> <span class="fu">mean</span>(body_mass_g), </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">peso_total =</span> <span class="fu">sum</span>(body_mass_g),</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">ind1 =</span> <span class="fu">mean</span>(body_mass_g<span class="sc">/</span>flipper_length_mm))</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>data</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  species   cantidad peso_promedio peso_total  ind1
  &lt;fct&gt;        &lt;int&gt;         &lt;dbl&gt;      &lt;int&gt; &lt;dbl&gt;
1 Adelie         146         3706.     541100  19.5
2 Chinstrap       68         3733.     253850  19.0
3 Gentoo         119         5092.     606000  23.4</code></pre>
</div>
</div>
<p>Queremos observar en un gráfico de barras las diferencias en el peso promedio de los pingüinos según la especie a la que pertenecen</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-53_1a0158b8310a57b52dd7a3f812eef7f5">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> peso_promedio)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Estudie el siguiente gráfico y explique cada parte del código</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-54_3ffa069b6cd4adbe37871bd32524f395">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>data1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fact1 =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>), <span class="at">size =</span> n, <span class="at">replace =</span> T),</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fact2 =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"g1"</span>, <span class="st">"g2"</span>, <span class="st">"g3"</span>), <span class="at">size =</span> n, <span class="at">replace =</span> T),</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">num1 =</span> <span class="fu">rnorm</span>(n, <span class="dv">20</span>, <span class="dv">5</span>)</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>data1 <span class="ot">&lt;-</span> data1 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(fact1, fact2) <span class="sc">|&gt;</span> </span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">var_interesante =</span> (<span class="fu">mean</span>(num1)))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'fact1'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>data1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
# Groups:   fact1 [4]
   fact1 fact2 var_interesante
   &lt;chr&gt; &lt;chr&gt;           &lt;dbl&gt;
 1 a     g1               19.7
 2 a     g2               20.2
 3 a     g3               20.7
 4 b     g1               17.1
 5 b     g2               19.1
 6 b     g3               21.3
 7 c     g1               20.9
 8 c     g2               15.2
 9 c     g3               22.8
10 d     g1               21.2
11 d     g2               20.4
12 d     g3               20.9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>data1 <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> fact1, <span class="at">y =</span> var_interesante, <span class="at">fill =</span> fact2)) <span class="sc">+</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge2"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<!-- ### `geom_contour()`, `geom_contour_filled()` -->
<!-- `ggplot2` no construye gráficas en 3D, pero sí puede crear gráficas de contorno, lo que viene siendo una mirada en 2 dimensiones a superficies en 3D. Cuando usamos `geom_density_2d()`, `ggplot2` estimará de forma automática la densidad de las 2 variables usando un método de estimación con kernel^[Usando la función `kde2d` del paquete `MASS`. Más adelante aprenderemos a ajustar estos modelos por nuestra cuenta] y graficará el contorno de dicha estimación. Podemos construir gráficas de contorno para superficies generales (no necesariamente densidades estimadas) usando `geom_contour()` y `geom_contour_filled()`. Aprovechamos la función _rastrigin_ usada en la sección anterior -->
<!-- ```{r} -->
<!-- varx <- seq(-5.12, 5.12, length.out=200) -->
<!-- vary <- varx -->
<!-- # Función rastrigin, muy usada en optimización -->
<!-- rast <- function(x,y){ -->
<!--   20 + x^2 -10*cos(2*pi*x) + y^2 - 10*cos(2*pi*y) -->
<!-- } -->
<!-- varz <- outer(varx,vary,FUN=rast) -->
<!-- ggplot(mapping = aes(x = varx, y = vary, z = varz)) + -->
<!--   geom_contour() -->
<!-- ``` -->
</section>
<section id="geom_density_2d_filled" class="level3" data-number="2.10.3">
<h3 data-number="2.10.3" class="anchored" data-anchor-id="geom_density_2d_filled"><span class="header-section-number">2.10.3</span> <code>geom_density_2d_filled()</code></h3>
<p>De uso muy similar a <code>geom_density_2d()</code>, pero agretando un color de relleno al gráfico. Se puede combinar con <code>geom_point()</code> para ofrecer una gráfica más completa. Con todo lo visto hasta ahora, debe ser claro cómo funciona el siguiente código</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-55_c380c5895f912c3e3666ab9c79fa435b">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d_filled</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_2d</span>(<span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="cn">NA</span>, <span class="dv">240</span>) <span class="sc">+</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">2000</span>, <span class="dv">6500</span>) <span class="sc">+</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">0.8</span>, <span class="at">color =</span> <span class="st">"magenta"</span>) <span class="sc">+</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Densidad conjunta"</span>,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Datos de 3 especies de pingüinos del archipiélago de Palmer"</span>,</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Longitudad de la aleta (mm)"</span>,</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Peso (gr)"</span>,</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_function" class="level3" data-number="2.10.4">
<h3 data-number="2.10.4" class="anchored" data-anchor-id="geom_function"><span class="header-section-number">2.10.4</span> <code>geom_function()</code></h3>
<p>Podemos construir curvas a partir de funciones con <code>geom_function()</code>. En el siguiente código, construimos 2 funciones muy sencillas y las agregamos con diferente color, la <em>capa</em> <code>coord_fixed</code> nos sirve para mantener la relación 1 a 1 entre los valores de los ejes coordenados (la mayoría de veces, no es buena idea hacer esto, es mejor dejar que se reescalen los ejes)</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-56_169133842526c6c2b9560d9887e7be74">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>f1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_function</span>(<span class="at">fun =</span> f1, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> f2, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Podemos usar directamente las funciones de <code>R</code>. A continuación graficamos 3 distribuciones normales con la misma desviación y diferentes valores de la media</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-57_ab720f2746f99246a5df007ef85c11d2">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span> (<span class="sc">-</span><span class="dv">5</span>,<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm, </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm, </span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm, </span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">2</span>, <span class="at">sd =</span> <span class="dv">1</span>),</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="st">"orange"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_freqpoly" class="level3" data-number="2.10.5">
<h3 data-number="2.10.5" class="anchored" data-anchor-id="geom_freqpoly"><span class="header-section-number">2.10.5</span> <code>geom_freqpoly()</code></h3>
<p>Un polígono de frecuencia es un buen complemento para un histograma</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-58_aa1a8372cc99ddf4753de3814e4eb195">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"#C820387f"</span>, </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">color =</span> <span class="st">"black"</span>,</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">bins =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">15</span>,</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">linewidth =</span> <span class="dv">1</span>,</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="st">"#00B82ECC"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_path-geom_line" class="level3" data-number="2.10.6">
<h3 data-number="2.10.6" class="anchored" data-anchor-id="geom_path-geom_line"><span class="header-section-number">2.10.6</span> <code>geom_path()</code>, <code>geom_line()</code></h3>
<p>Estas geometrías unen puntos con líneas, <code>geom_line()</code> lo hace en orden ascendente de la variable x, mientras que <code>geom_path()</code> lo hace en el orden mismo que aparecen los datos. <code>geom_line()</code> es bastante útil para representar series de tiempo y <code>geom_path()</code> puede bocetar formas irregulares. Usamos la base de datos de serie de tiempo <code>economics_long</code><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> que viene con <code>ggplot2</code> para mostrar el uso de <code>geom_line()</code>. Agregamos una forma geométrica cualquiera para el uso de <code>geom_path()</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-59_c1fea6c833d0083e090b031cf04f8b54">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Revisar los primeros valores de la base de datos</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>economics_long</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,870 × 4
   date       variable value  value01
   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 1967-07-01 pce       507. 0       
 2 1967-08-01 pce       510. 0.000265
 3 1967-09-01 pce       516. 0.000762
 4 1967-10-01 pce       512. 0.000471
 5 1967-11-01 pce       517. 0.000916
 6 1967-12-01 pce       525. 0.00157 
 7 1968-01-01 pce       531. 0.00207 
 8 1968-02-01 pce       534. 0.00230 
 9 1968-03-01 pce       544. 0.00322 
10 1968-04-01 pce       544  0.00319 
# ℹ 2,860 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># graficar</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>economics_long <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value01, <span class="at">color =</span> variable)) <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-60_4770857734c066aa7c87ca1d0110bbcd">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>data2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">3</span>, <span class="fl">5.5</span>, <span class="dv">0</span>, <span class="dv">6</span>, <span class="fl">0.5</span>),</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">6</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">0</span>)</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>data2 <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>() <span class="sc">+</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="agregando-facetas-o-subplots" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="agregando-facetas-o-subplots"><span class="header-section-number">2.11</span> Agregando facetas o <em>subplots</em></h2>
<p>Si tenemos una variable categórica dentro de nuestro conjunto de variables, una forma de analizar su contribución o patrón es mapeando con un atributo del gráfico como <code>fill</code> o <code>color</code>, tal como lo hemos hecho en ocasiones anteiores</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-61_73c11556b7b0781354083828b18548bd">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> body_mass_g,</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Otra alternativa, para este ejemplo, es construir un diagrama de dispersión para cada subconjunto de datos según la especie. Esto es fácil de conseguir usando <code>face_wrap()</code> o <code>face_grid()</code>. La primera alternativa crea un subgráfico de forma lineal para una variable categórica que se incluya usando una fórmula<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> y la segunda opción crea un cuadrícula usando 2 variables categóricas. Es más fácil viendo que diciendo</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-62_dcdd7ba4fec9efd8e3443275574e9d01">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm,</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="sc">~</span>species, <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-63_46e211a6c6f9b488f657c8a96dc0a019">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm,</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species)) <span class="sc">+</span> </span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(species<span class="sc">~</span>island)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<p>Note que mientras <code>face_wrap()</code> usa una fórmula de un solo lado, <code>face_grid()</code> usa una fórmula de 2 lados</p>
</section>
<section id="más-allá-de-ggplot2" class="level2" data-number="2.12">
<h2 data-number="2.12" class="anchored" data-anchor-id="más-allá-de-ggplot2"><span class="header-section-number">2.12</span> Más allá de <code>ggplot2</code></h2>
<p>Una de las grandes fortalezas de <code>R</code> para análisis de datos es su increíble cantidad de herramientas para hacer gráficas. Esta gran oferta puede resultar un poco abrumadora al principio, por lo que en este curso nos vamos a basar casi que exclusivamente en <code>ggplot2</code> para hacer nuestras gráficas y ni siquiera usaremos con regularidad la función base <code>plot</code>. Puede parecer poco, pero <code>ggplot2</code> es bastante amplio y seguramente no abarcaremos todas las opciones que ofrece.</p>
<p>Dicho eso, vamos a mencionar algunas librerías que agregan fortaleces a <code>ggplot2</code> o funcionan de forma complementaria y algunas que son ecosistemas totalmente independientes, pero son tan geniales que debemos saber por lo menos que existen.</p>
<p>Ya hemos agregado algunas librerías: <code>ggridges</code>, <code>ggExtra</code>, <code>ggthemes</code>. Podemos encontrar una lista asombrosa de extras para <code>ggplot2</code> <a href="https://exts.ggplot2.tidyverse.org/gallery/" data-traget="_blank">aquí</a></p>
<section id="patchwork" class="level3" data-number="2.12.1">
<h3 data-number="2.12.1" class="anchored" data-anchor-id="patchwork"><span class="header-section-number">2.12.1</span> <code>patchwork</code></h3>
<p>Esta librería permite combinar de forma sencilla varias gráficas individuales en una sola gráfica. Debemos instalar (<code>install.packages("patchwork")</code>) y cargar (<code>library(patchwork)</code>) el paquete. <a href="https://patchwork.data-imaginist.com/index.html" target="_blank">Revise la página de <code>patchwork</code></a> para ver los detalles. Para revisar el uso básico, vamos a crear algunos gráficos individuales sencillos y combinarlos de diferentes formas</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-64_19a1adb622b706e9145a725c87dda3b2">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">y =</span> body_mass_g,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">show.legend =</span> F)</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, </span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">y =</span> bill_depth_mm,</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> island)) <span class="sc">+</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">show.legend =</span> F)</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm,</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>                             <span class="at">y =</span> species,</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> species,</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>                             <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> F)</span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> island, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge2"</span>, <span class="at">show.legend =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Podemos agrupar los gráficos con el signo <code>+</code>, <code>patchwork</code> intentará distribuir los gráficos en filas y columnas de forma que el resultado sea lo más cuadrado posible, agregando los gráficos por filas (como si fuese una matriz en <code>R</code>). Podemos forzar la distribución usando <code>plot_layout()</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-65_0962e4bbd54e830eff51a605231f7ff3">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3 <span class="sc">+</span> p4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.08</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-66_742ec96c8e6cf57991c2729815e35bea">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3 <span class="sc">+</span> p4 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">byrow =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.08</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Se puede forzar un <em>layout</em> con “|” para separar columnas y “/” para separar filas. Probemos algunas combinaciones</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-67_374d672acbcdbb57396dfc074ae84bdd">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">/</span> p2) <span class="sc">|</span> p3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.08</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">|</span> p4) <span class="sc">/</span> p2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-67-2.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">/</span> p2 <span class="sc">/</span> p3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.08</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-67-3.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">|</span> p4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-67-4.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Se pueden agregar etiquetas y títulos a cada gráfico de forma normal a cada gráfico individual, también se puede para el conjunto completo, usando <code>plot_annotation()</code>. Con <code>plot_layout()</code> se puede especificar la proporción de ancho y alto para cada columna y fila del arreglo.</p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-68_9e7a59034f2a2038331cf3c4f07702e2">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">|</span> (p2 <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>)))) <span class="sc">+</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Un grupo interesante de gráficas"</span>,</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Gráficas bonitas"</span>, </span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Datos de Pingüinos del archipiélago de Palmer"</span></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 1.08</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="uso-ggplot2_files/figure-html/unnamed-chunk-68-1.png" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Por último nombraremos 2 paquetes para gráficas pero que juegan en una liga diferente, están basados en librerías de <em>JavaScript</em> por lo que pueden generar gráficas interactivas y son especialmente adecuados para generar reportes con <a href="https://quarto.org/" target="blank"><code>quarto</code></a> y aplicaciones con <a href="https://shiny.posit.co/" target="blank"><code>shiny</code></a></p>
</section>
<section id="plotly" class="level3" data-number="2.12.2">
<h3 data-number="2.12.2" class="anchored" data-anchor-id="plotly"><span class="header-section-number">2.12.2</span> <code>plotly</code></h3>
<p><a href="https://plotly.com/graphing-libraries/" target="blank"><code>plotly</code></a> es una librería declarativa y de alto nivel basada en <a href="https://d3js.org/" target="blank">D3.js</a> y <a href="https://github.com/stackgl" target="blank">stack.gl</a> para crear gráficos interactivos. Tiene versiones para <code>python</code>, <code>R</code>, <code>Julia</code>, <code>Javascript</code>, <code>Matlab</code>, <code>F#</code> (¡casi nada!). Ofrece muchos tipos de gráficos para 2 y 3 dimensiones y es un mundo completo para aprender. Por ahora solo nos interesa la función <code>ggplotly</code> que convierte cualquier gráfico estático <code>ggplot</code> en un gráfico interactivo <code>plotly</code></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-69_dd946be7eee161e166a504240cf30def">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("plotly") # ejecutar desde la consola</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>pp1 <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm,</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">y =</span> body_mass_g,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> species)) <span class="sc">+</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">show.legend =</span> F)</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(pp1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-05919c4489a243b7effc" style="width:100%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-05919c4489a243b7effc">{"x":{"data":[{"x":[181,186,195,193,190,181,195,182,191,198,185,195,197,184,194,174,180,189,185,180,187,183,187,172,180,178,178,188,184,195,196,190,180,181,184,182,195,186,196,185,190,182,190,191,186,188,190,200,187,191,186,193,181,194,185,195,185,192,184,192,195,188,190,198,190,190,196,197,190,195,191,184,187,195,189,196,187,193,191,194,190,189,189,190,202,205,185,186,187,208,190,196,178,192,192,203,183,190,193,184,199,190,181,197,198,191,193,197,191,196,188,199,189,189,187,198,176,202,186,199,191,195,191,210,190,197,193,199,187,190,191,200,185,193,193,187,188,190,192,185,190,184,195,193,187,201],"y":[3750,3800,3250,3450,3650,3625,4675,3200,3800,4400,3700,3450,4500,3325,4200,3400,3600,3800,3950,3800,3800,3550,3200,3150,3950,3250,3900,3300,3900,3325,4150,3950,3550,3300,4650,3150,3900,3100,4400,3000,4600,3425,3450,4150,3500,4300,3450,4050,2900,3700,3550,3800,2850,3750,3150,4400,3600,4050,2850,3950,3350,4100,3050,4450,3600,3900,3550,4150,3700,4250,3700,3900,3550,4000,3200,4700,3800,4200,3350,3550,3800,3500,3950,3600,3550,4300,3400,4450,3300,4300,3700,4350,2900,4100,3725,4725,3075,4250,2925,3550,3750,3900,3175,4775,3825,4600,3200,4275,3900,4075,2900,3775,3350,3325,3150,3500,3450,3875,3050,4000,3275,4300,3050,4000,3325,3500,3500,4475,3425,3900,3175,3975,3400,4250,3400,3475,3050,3725,3000,3650,4250,3475,3450,3750,3700,4000],"text":["flipper_length_mm: 181<br />body_mass_g: 3750<br />species: Adelie","flipper_length_mm: 186<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 3250<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 3450<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3650<br />species: Adelie","flipper_length_mm: 181<br />body_mass_g: 3625<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 4675<br />species: Adelie","flipper_length_mm: 182<br />body_mass_g: 3200<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 198<br />body_mass_g: 4400<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3700<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 3450<br />species: Adelie","flipper_length_mm: 197<br />body_mass_g: 4500<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 3325<br />species: Adelie","flipper_length_mm: 194<br />body_mass_g: 4200<br />species: Adelie","flipper_length_mm: 174<br />body_mass_g: 3400<br />species: Adelie","flipper_length_mm: 180<br />body_mass_g: 3600<br />species: Adelie","flipper_length_mm: 189<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3950<br />species: Adelie","flipper_length_mm: 180<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 183<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3200<br />species: Adelie","flipper_length_mm: 172<br />body_mass_g: 3150<br />species: Adelie","flipper_length_mm: 180<br />body_mass_g: 3950<br />species: Adelie","flipper_length_mm: 178<br />body_mass_g: 3250<br />species: Adelie","flipper_length_mm: 178<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 188<br />body_mass_g: 3300<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 3325<br />species: Adelie","flipper_length_mm: 196<br />body_mass_g: 4150<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3950<br />species: Adelie","flipper_length_mm: 180<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 181<br />body_mass_g: 3300<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 4650<br />species: Adelie","flipper_length_mm: 182<br />body_mass_g: 3150<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 186<br />body_mass_g: 3100<br />species: Adelie","flipper_length_mm: 196<br />body_mass_g: 4400<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3000<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 4600<br />species: Adelie","flipper_length_mm: 182<br />body_mass_g: 3425<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3450<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 4150<br />species: Adelie","flipper_length_mm: 186<br />body_mass_g: 3500<br />species: Adelie","flipper_length_mm: 188<br />body_mass_g: 4300<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3450<br />species: Adelie","flipper_length_mm: 200<br />body_mass_g: 4050<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 2900<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3700<br />species: Adelie","flipper_length_mm: 186<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 181<br />body_mass_g: 2850<br />species: Adelie","flipper_length_mm: 194<br />body_mass_g: 3750<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3150<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 4400<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3600<br />species: Adelie","flipper_length_mm: 192<br />body_mass_g: 4050<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 2850<br />species: Adelie","flipper_length_mm: 192<br />body_mass_g: 3950<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 3350<br />species: Adelie","flipper_length_mm: 188<br />body_mass_g: 4100<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3050<br />species: Adelie","flipper_length_mm: 198<br />body_mass_g: 4450<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3600<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 196<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 197<br />body_mass_g: 4150<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3700<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 4250<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3700<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 4000<br />species: Adelie","flipper_length_mm: 189<br />body_mass_g: 3200<br />species: Adelie","flipper_length_mm: 196<br />body_mass_g: 4700<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 4200<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3350<br />species: Adelie","flipper_length_mm: 194<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3800<br />species: Adelie","flipper_length_mm: 189<br />body_mass_g: 3500<br />species: Adelie","flipper_length_mm: 189<br />body_mass_g: 3950<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3600<br />species: Adelie","flipper_length_mm: 202<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 205<br />body_mass_g: 4300<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3400<br />species: Adelie","flipper_length_mm: 186<br />body_mass_g: 4450<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3300<br />species: Adelie","flipper_length_mm: 208<br />body_mass_g: 4300<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3700<br />species: Adelie","flipper_length_mm: 196<br />body_mass_g: 4350<br />species: Adelie","flipper_length_mm: 178<br />body_mass_g: 2900<br />species: Adelie","flipper_length_mm: 192<br />body_mass_g: 4100<br />species: Adelie","flipper_length_mm: 192<br />body_mass_g: 3725<br />species: Adelie","flipper_length_mm: 203<br />body_mass_g: 4725<br />species: Adelie","flipper_length_mm: 183<br />body_mass_g: 3075<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 4250<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 2925<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 3550<br />species: Adelie","flipper_length_mm: 199<br />body_mass_g: 3750<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 181<br />body_mass_g: 3175<br />species: Adelie","flipper_length_mm: 197<br />body_mass_g: 4775<br />species: Adelie","flipper_length_mm: 198<br />body_mass_g: 3825<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 4600<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 3200<br />species: Adelie","flipper_length_mm: 197<br />body_mass_g: 4275<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 196<br />body_mass_g: 4075<br />species: Adelie","flipper_length_mm: 188<br />body_mass_g: 2900<br />species: Adelie","flipper_length_mm: 199<br />body_mass_g: 3775<br />species: Adelie","flipper_length_mm: 189<br />body_mass_g: 3350<br />species: Adelie","flipper_length_mm: 189<br />body_mass_g: 3325<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3150<br />species: Adelie","flipper_length_mm: 198<br />body_mass_g: 3500<br />species: Adelie","flipper_length_mm: 176<br />body_mass_g: 3450<br />species: Adelie","flipper_length_mm: 202<br />body_mass_g: 3875<br />species: Adelie","flipper_length_mm: 186<br />body_mass_g: 3050<br />species: Adelie","flipper_length_mm: 199<br />body_mass_g: 4000<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3275<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 4300<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3050<br />species: Adelie","flipper_length_mm: 210<br />body_mass_g: 4000<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3325<br />species: Adelie","flipper_length_mm: 197<br />body_mass_g: 3500<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 3500<br />species: Adelie","flipper_length_mm: 199<br />body_mass_g: 4475<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3425<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3900<br />species: Adelie","flipper_length_mm: 191<br />body_mass_g: 3175<br />species: Adelie","flipper_length_mm: 200<br />body_mass_g: 3975<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3400<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 4250<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 3400<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3475<br />species: Adelie","flipper_length_mm: 188<br />body_mass_g: 3050<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 3725<br />species: Adelie","flipper_length_mm: 192<br />body_mass_g: 3000<br />species: Adelie","flipper_length_mm: 185<br />body_mass_g: 3650<br />species: Adelie","flipper_length_mm: 190<br />body_mass_g: 4250<br />species: Adelie","flipper_length_mm: 184<br />body_mass_g: 3475<br />species: Adelie","flipper_length_mm: 195<br />body_mass_g: 3450<br />species: Adelie","flipper_length_mm: 193<br />body_mass_g: 3750<br />species: Adelie","flipper_length_mm: 187<br />body_mass_g: 3700<br />species: Adelie","flipper_length_mm: 201<br />body_mass_g: 4000<br />species: Adelie"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Adelie","legendgroup":"Adelie","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[192,196,193,188,197,198,178,197,195,198,193,194,185,201,190,201,197,181,190,195,181,191,187,193,195,197,200,200,191,205,187,201,187,203,195,199,195,210,192,205,210,187,196,196,196,201,190,212,187,198,199,201,193,203,187,197,191,203,202,194,206,189,195,207,202,193,210,198],"y":[3500,3900,3650,3525,3725,3950,3250,3750,4150,3700,3800,3775,3700,4050,3575,4050,3300,3700,3450,4400,3600,3400,2900,3800,3300,4150,3400,3800,3700,4550,3200,4300,3350,4100,3600,3900,3850,4800,2700,4500,3950,3650,3550,3500,3675,4450,3400,4300,3250,3675,3325,3950,3600,4050,3350,3450,3250,4050,3800,3525,3950,3650,3650,4000,3400,3775,4100,3775],"text":["flipper_length_mm: 192<br />body_mass_g: 3500<br />species: Chinstrap","flipper_length_mm: 196<br />body_mass_g: 3900<br />species: Chinstrap","flipper_length_mm: 193<br />body_mass_g: 3650<br />species: Chinstrap","flipper_length_mm: 188<br />body_mass_g: 3525<br />species: Chinstrap","flipper_length_mm: 197<br />body_mass_g: 3725<br />species: Chinstrap","flipper_length_mm: 198<br />body_mass_g: 3950<br />species: Chinstrap","flipper_length_mm: 178<br />body_mass_g: 3250<br />species: Chinstrap","flipper_length_mm: 197<br />body_mass_g: 3750<br />species: Chinstrap","flipper_length_mm: 195<br />body_mass_g: 4150<br />species: Chinstrap","flipper_length_mm: 198<br />body_mass_g: 3700<br />species: Chinstrap","flipper_length_mm: 193<br />body_mass_g: 3800<br />species: Chinstrap","flipper_length_mm: 194<br />body_mass_g: 3775<br />species: Chinstrap","flipper_length_mm: 185<br />body_mass_g: 3700<br />species: Chinstrap","flipper_length_mm: 201<br />body_mass_g: 4050<br />species: Chinstrap","flipper_length_mm: 190<br />body_mass_g: 3575<br />species: Chinstrap","flipper_length_mm: 201<br />body_mass_g: 4050<br />species: Chinstrap","flipper_length_mm: 197<br />body_mass_g: 3300<br />species: Chinstrap","flipper_length_mm: 181<br />body_mass_g: 3700<br />species: Chinstrap","flipper_length_mm: 190<br />body_mass_g: 3450<br />species: Chinstrap","flipper_length_mm: 195<br />body_mass_g: 4400<br />species: Chinstrap","flipper_length_mm: 181<br />body_mass_g: 3600<br />species: Chinstrap","flipper_length_mm: 191<br />body_mass_g: 3400<br />species: Chinstrap","flipper_length_mm: 187<br />body_mass_g: 2900<br />species: Chinstrap","flipper_length_mm: 193<br />body_mass_g: 3800<br />species: Chinstrap","flipper_length_mm: 195<br />body_mass_g: 3300<br />species: Chinstrap","flipper_length_mm: 197<br />body_mass_g: 4150<br />species: Chinstrap","flipper_length_mm: 200<br />body_mass_g: 3400<br />species: Chinstrap","flipper_length_mm: 200<br />body_mass_g: 3800<br />species: Chinstrap","flipper_length_mm: 191<br />body_mass_g: 3700<br />species: Chinstrap","flipper_length_mm: 205<br />body_mass_g: 4550<br />species: Chinstrap","flipper_length_mm: 187<br />body_mass_g: 3200<br />species: Chinstrap","flipper_length_mm: 201<br />body_mass_g: 4300<br />species: Chinstrap","flipper_length_mm: 187<br />body_mass_g: 3350<br />species: Chinstrap","flipper_length_mm: 203<br />body_mass_g: 4100<br />species: Chinstrap","flipper_length_mm: 195<br />body_mass_g: 3600<br />species: Chinstrap","flipper_length_mm: 199<br />body_mass_g: 3900<br />species: Chinstrap","flipper_length_mm: 195<br />body_mass_g: 3850<br />species: Chinstrap","flipper_length_mm: 210<br />body_mass_g: 4800<br />species: Chinstrap","flipper_length_mm: 192<br />body_mass_g: 2700<br />species: Chinstrap","flipper_length_mm: 205<br />body_mass_g: 4500<br />species: Chinstrap","flipper_length_mm: 210<br />body_mass_g: 3950<br />species: Chinstrap","flipper_length_mm: 187<br />body_mass_g: 3650<br />species: Chinstrap","flipper_length_mm: 196<br />body_mass_g: 3550<br />species: Chinstrap","flipper_length_mm: 196<br />body_mass_g: 3500<br />species: Chinstrap","flipper_length_mm: 196<br />body_mass_g: 3675<br />species: Chinstrap","flipper_length_mm: 201<br />body_mass_g: 4450<br />species: Chinstrap","flipper_length_mm: 190<br />body_mass_g: 3400<br />species: Chinstrap","flipper_length_mm: 212<br />body_mass_g: 4300<br />species: Chinstrap","flipper_length_mm: 187<br />body_mass_g: 3250<br />species: Chinstrap","flipper_length_mm: 198<br />body_mass_g: 3675<br />species: Chinstrap","flipper_length_mm: 199<br />body_mass_g: 3325<br />species: Chinstrap","flipper_length_mm: 201<br />body_mass_g: 3950<br />species: Chinstrap","flipper_length_mm: 193<br />body_mass_g: 3600<br />species: Chinstrap","flipper_length_mm: 203<br />body_mass_g: 4050<br />species: Chinstrap","flipper_length_mm: 187<br />body_mass_g: 3350<br />species: Chinstrap","flipper_length_mm: 197<br />body_mass_g: 3450<br />species: Chinstrap","flipper_length_mm: 191<br />body_mass_g: 3250<br />species: Chinstrap","flipper_length_mm: 203<br />body_mass_g: 4050<br />species: Chinstrap","flipper_length_mm: 202<br />body_mass_g: 3800<br />species: Chinstrap","flipper_length_mm: 194<br />body_mass_g: 3525<br />species: Chinstrap","flipper_length_mm: 206<br />body_mass_g: 3950<br />species: Chinstrap","flipper_length_mm: 189<br />body_mass_g: 3650<br />species: Chinstrap","flipper_length_mm: 195<br />body_mass_g: 3650<br />species: Chinstrap","flipper_length_mm: 207<br />body_mass_g: 4000<br />species: Chinstrap","flipper_length_mm: 202<br />body_mass_g: 3400<br />species: Chinstrap","flipper_length_mm: 193<br />body_mass_g: 3775<br />species: Chinstrap","flipper_length_mm: 210<br />body_mass_g: 4100<br />species: Chinstrap","flipper_length_mm: 198<br />body_mass_g: 3775<br />species: Chinstrap"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"Chinstrap","legendgroup":"Chinstrap","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[211,230,210,218,215,210,211,219,209,215,214,216,214,213,210,217,210,221,209,222,218,215,213,215,215,215,215,210,220,222,209,207,230,220,220,213,219,208,208,208,225,210,216,222,217,210,225,213,215,210,220,210,225,217,220,208,220,208,224,208,221,214,231,219,230,229,220,223,216,221,221,217,216,230,209,220,215,223,212,221,212,224,212,228,218,218,212,230,218,228,212,224,214,226,216,222,203,225,219,228,215,228,215,210,219,208,209,216,229,213,230,217,230,222,214,215,222,212,213],"y":[4500,5700,4450,5700,5400,4550,4800,5200,4400,5150,4650,5550,4650,5850,4200,5850,4150,6300,4800,5350,5700,5000,4400,5050,5000,5100,5650,4600,5550,5250,4700,5050,6050,5150,5400,4950,5250,4350,5350,3950,5700,4300,4750,5550,4900,4200,5400,5100,5300,4850,5300,4400,5000,4900,5050,4300,5000,4450,5550,4200,5300,4400,5650,4700,5700,5800,4700,5550,4750,5000,5100,5200,4700,5800,4600,6000,4750,5950,4625,5450,4725,5350,4750,5600,4600,5300,4875,5550,4950,5400,4750,5650,4850,5200,4925,4875,4625,5250,4850,5600,4975,5500,5500,4700,5500,4575,5500,5000,5950,4650,5500,4375,5850,6000,4925,4850,5750,5200,5400],"text":["flipper_length_mm: 211<br />body_mass_g: 4500<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 5700<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4450<br />species: Gentoo","flipper_length_mm: 218<br />body_mass_g: 5700<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5400<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4550<br />species: Gentoo","flipper_length_mm: 211<br />body_mass_g: 4800<br />species: Gentoo","flipper_length_mm: 219<br />body_mass_g: 5200<br />species: Gentoo","flipper_length_mm: 209<br />body_mass_g: 4400<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5150<br />species: Gentoo","flipper_length_mm: 214<br />body_mass_g: 4650<br />species: Gentoo","flipper_length_mm: 216<br />body_mass_g: 5550<br />species: Gentoo","flipper_length_mm: 214<br />body_mass_g: 4650<br />species: Gentoo","flipper_length_mm: 213<br />body_mass_g: 5850<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4200<br />species: Gentoo","flipper_length_mm: 217<br />body_mass_g: 5850<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4150<br />species: Gentoo","flipper_length_mm: 221<br />body_mass_g: 6300<br />species: Gentoo","flipper_length_mm: 209<br />body_mass_g: 4800<br />species: Gentoo","flipper_length_mm: 222<br />body_mass_g: 5350<br />species: Gentoo","flipper_length_mm: 218<br />body_mass_g: 5700<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5000<br />species: Gentoo","flipper_length_mm: 213<br />body_mass_g: 4400<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5050<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5000<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5100<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5650<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4600<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 5550<br />species: Gentoo","flipper_length_mm: 222<br />body_mass_g: 5250<br />species: Gentoo","flipper_length_mm: 209<br />body_mass_g: 4700<br />species: Gentoo","flipper_length_mm: 207<br />body_mass_g: 5050<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 6050<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 5150<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 5400<br />species: Gentoo","flipper_length_mm: 213<br />body_mass_g: 4950<br />species: Gentoo","flipper_length_mm: 219<br />body_mass_g: 5250<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 4350<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 5350<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 3950<br />species: Gentoo","flipper_length_mm: 225<br />body_mass_g: 5700<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4300<br />species: Gentoo","flipper_length_mm: 216<br />body_mass_g: 4750<br />species: Gentoo","flipper_length_mm: 222<br />body_mass_g: 5550<br />species: Gentoo","flipper_length_mm: 217<br />body_mass_g: 4900<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4200<br />species: Gentoo","flipper_length_mm: 225<br />body_mass_g: 5400<br />species: Gentoo","flipper_length_mm: 213<br />body_mass_g: 5100<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5300<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4850<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 5300<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4400<br />species: Gentoo","flipper_length_mm: 225<br />body_mass_g: 5000<br />species: Gentoo","flipper_length_mm: 217<br />body_mass_g: 4900<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 5050<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 4300<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 5000<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 4450<br />species: Gentoo","flipper_length_mm: 224<br />body_mass_g: 5550<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 4200<br />species: Gentoo","flipper_length_mm: 221<br />body_mass_g: 5300<br />species: Gentoo","flipper_length_mm: 214<br />body_mass_g: 4400<br />species: Gentoo","flipper_length_mm: 231<br />body_mass_g: 5650<br />species: Gentoo","flipper_length_mm: 219<br />body_mass_g: 4700<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 5700<br />species: Gentoo","flipper_length_mm: 229<br />body_mass_g: 5800<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 4700<br />species: Gentoo","flipper_length_mm: 223<br />body_mass_g: 5550<br />species: Gentoo","flipper_length_mm: 216<br />body_mass_g: 4750<br />species: Gentoo","flipper_length_mm: 221<br />body_mass_g: 5000<br />species: Gentoo","flipper_length_mm: 221<br />body_mass_g: 5100<br />species: Gentoo","flipper_length_mm: 217<br />body_mass_g: 5200<br />species: Gentoo","flipper_length_mm: 216<br />body_mass_g: 4700<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 5800<br />species: Gentoo","flipper_length_mm: 209<br />body_mass_g: 4600<br />species: Gentoo","flipper_length_mm: 220<br />body_mass_g: 6000<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 4750<br />species: Gentoo","flipper_length_mm: 223<br />body_mass_g: 5950<br />species: Gentoo","flipper_length_mm: 212<br />body_mass_g: 4625<br />species: Gentoo","flipper_length_mm: 221<br />body_mass_g: 5450<br />species: Gentoo","flipper_length_mm: 212<br />body_mass_g: 4725<br />species: Gentoo","flipper_length_mm: 224<br />body_mass_g: 5350<br />species: Gentoo","flipper_length_mm: 212<br />body_mass_g: 4750<br />species: Gentoo","flipper_length_mm: 228<br />body_mass_g: 5600<br />species: Gentoo","flipper_length_mm: 218<br />body_mass_g: 4600<br />species: Gentoo","flipper_length_mm: 218<br />body_mass_g: 5300<br />species: Gentoo","flipper_length_mm: 212<br />body_mass_g: 4875<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 5550<br />species: Gentoo","flipper_length_mm: 218<br />body_mass_g: 4950<br />species: Gentoo","flipper_length_mm: 228<br />body_mass_g: 5400<br />species: Gentoo","flipper_length_mm: 212<br />body_mass_g: 4750<br />species: Gentoo","flipper_length_mm: 224<br />body_mass_g: 5650<br />species: Gentoo","flipper_length_mm: 214<br />body_mass_g: 4850<br />species: Gentoo","flipper_length_mm: 226<br />body_mass_g: 5200<br />species: Gentoo","flipper_length_mm: 216<br />body_mass_g: 4925<br />species: Gentoo","flipper_length_mm: 222<br />body_mass_g: 4875<br />species: Gentoo","flipper_length_mm: 203<br />body_mass_g: 4625<br />species: Gentoo","flipper_length_mm: 225<br />body_mass_g: 5250<br />species: Gentoo","flipper_length_mm: 219<br />body_mass_g: 4850<br />species: Gentoo","flipper_length_mm: 228<br />body_mass_g: 5600<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 4975<br />species: Gentoo","flipper_length_mm: 228<br />body_mass_g: 5500<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 5500<br />species: Gentoo","flipper_length_mm: 210<br />body_mass_g: 4700<br />species: Gentoo","flipper_length_mm: 219<br />body_mass_g: 5500<br />species: Gentoo","flipper_length_mm: 208<br />body_mass_g: 4575<br />species: Gentoo","flipper_length_mm: 209<br />body_mass_g: 5500<br />species: Gentoo","flipper_length_mm: 216<br />body_mass_g: 5000<br />species: Gentoo","flipper_length_mm: 229<br />body_mass_g: 5950<br />species: Gentoo","flipper_length_mm: 213<br />body_mass_g: 4650<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 5500<br />species: Gentoo","flipper_length_mm: 217<br />body_mass_g: 4375<br />species: Gentoo","flipper_length_mm: 230<br />body_mass_g: 5850<br />species: Gentoo","flipper_length_mm: 222<br />body_mass_g: 6000<br />species: Gentoo","flipper_length_mm: 214<br />body_mass_g: 4925<br />species: Gentoo","flipper_length_mm: 215<br />body_mass_g: 4850<br />species: Gentoo","flipper_length_mm: 222<br />body_mass_g: 5750<br />species: Gentoo","flipper_length_mm: 212<br />body_mass_g: 5200<br />species: Gentoo","flipper_length_mm: 213<br />body_mass_g: 5400<br />species: Gentoo"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"Gentoo","legendgroup":"Gentoo","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[169.05000000000001,233.94999999999999],"tickmode":"array","ticktext":["170","180","190","200","210","220","230"],"tickvals":[170,180,190,200,210,220,230],"categoryorder":"array","categoryarray":["170","180","190","200","210","220","230"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"flipper_length_mm","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2520,6480],"tickmode":"array","ticktext":["3000","4000","5000","6000"],"tickvals":[3000,4000,5000,6000],"categoryorder":"array","categoryarray":["3000","4000","5000","6000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"body_mass_g","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"195479df697a":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"195479df697a","visdat":{"195479df697a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<!-- hay un problema, cuando se ejecuta plotly no se ejecuta dygraphs, no sé porqué -->
</section>
<section id="dygraphs" class="level3" data-number="2.12.3">
<h3 data-number="2.12.3" class="anchored" data-anchor-id="dygraphs"><span class="header-section-number">2.12.3</span> <code>dygraphs</code></h3>
<p>El paquete <code>dygraphs</code> de <code>R</code> es una implementación de la librería <a href="https://dygraphs.com/" target="blank"><code>dygraphs</code></a> de <em>Javascript</em>. Es bastante usado para graficar datos de series de tiempo. El siguiente ejemplo es tomado de la <a href="http://rstudio.github.io/dygraphs/index.html" target="blank">documentación</a></p>
<div class="cell" data-layout-align="center" data-hash="uso-ggplot2_cache/html/unnamed-chunk-70_a3b50c77eb4278e9e135fb62cbf49215">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("dygraphs") # ejecutar desde la consola</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dygraphs)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>lungDeaths <span class="ot">&lt;-</span> <span class="fu">cbind</span>(mdeaths, fdeaths)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dygraph</span>(lungDeaths) <span class="sc">|&gt;</span> </span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dySeries</span>(<span class="st">"mdeaths"</span>, <span class="at">label =</span> <span class="st">"Male"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dySeries</span>(<span class="st">"fdeaths"</span>, <span class="at">label =</span> <span class="st">"Female"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyOptions</span>(<span class="at">stackedGraph =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dyRangeSelector</span>(<span class="at">height =</span> <span class="dv">20</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-05919c4489a243b7effc" style="width:90%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-05919c4489a243b7effc">{"x":{"attrs":{"labels":["month","Male","Female"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"series":{"Male":{"axis":"y"},"Female":{"axis":"y"}},"stackedGraph":true,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"showRangeSelector":true,"rangeSelectorHeight":20,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["1974-01-01T00:00:00.000Z","1974-02-01T00:00:00.000Z","1974-03-01T00:00:00.000Z","1974-04-01T00:00:00.000Z","1974-05-01T00:00:00.000Z","1974-06-01T00:00:00.000Z","1974-07-01T00:00:00.000Z","1974-08-01T00:00:00.000Z","1974-09-01T00:00:00.000Z","1974-10-01T00:00:00.000Z","1974-11-01T00:00:00.000Z","1974-12-01T00:00:00.000Z","1975-01-01T00:00:00.000Z","1975-02-01T00:00:00.000Z","1975-03-01T00:00:00.000Z","1975-04-01T00:00:00.000Z","1975-05-01T00:00:00.000Z","1975-06-01T00:00:00.000Z","1975-07-01T00:00:00.000Z","1975-08-01T00:00:00.000Z","1975-09-01T00:00:00.000Z","1975-10-01T00:00:00.000Z","1975-11-01T00:00:00.000Z","1975-12-01T00:00:00.000Z","1976-01-01T00:00:00.000Z","1976-02-01T00:00:00.000Z","1976-03-01T00:00:00.000Z","1976-04-01T00:00:00.000Z","1976-05-01T00:00:00.000Z","1976-06-01T00:00:00.000Z","1976-07-01T00:00:00.000Z","1976-08-01T00:00:00.000Z","1976-09-01T00:00:00.000Z","1976-10-01T00:00:00.000Z","1976-11-01T00:00:00.000Z","1976-12-01T00:00:00.000Z","1977-01-01T00:00:00.000Z","1977-02-01T00:00:00.000Z","1977-03-01T00:00:00.000Z","1977-04-01T00:00:00.000Z","1977-05-01T00:00:00.000Z","1977-06-01T00:00:00.000Z","1977-07-01T00:00:00.000Z","1977-08-01T00:00:00.000Z","1977-09-01T00:00:00.000Z","1977-10-01T00:00:00.000Z","1977-11-01T00:00:00.000Z","1977-12-01T00:00:00.000Z","1978-01-01T00:00:00.000Z","1978-02-01T00:00:00.000Z","1978-03-01T00:00:00.000Z","1978-04-01T00:00:00.000Z","1978-05-01T00:00:00.000Z","1978-06-01T00:00:00.000Z","1978-07-01T00:00:00.000Z","1978-08-01T00:00:00.000Z","1978-09-01T00:00:00.000Z","1978-10-01T00:00:00.000Z","1978-11-01T00:00:00.000Z","1978-12-01T00:00:00.000Z","1979-01-01T00:00:00.000Z","1979-02-01T00:00:00.000Z","1979-03-01T00:00:00.000Z","1979-04-01T00:00:00.000Z","1979-05-01T00:00:00.000Z","1979-06-01T00:00:00.000Z","1979-07-01T00:00:00.000Z","1979-08-01T00:00:00.000Z","1979-09-01T00:00:00.000Z","1979-10-01T00:00:00.000Z","1979-11-01T00:00:00.000Z","1979-12-01T00:00:00.000Z"],[2134,1863,1877,1877,1492,1249,1280,1131,1209,1492,1621,1846,2103,2137,2153,1833,1403,1288,1186,1133,1053,1347,1545,2066,2020,2750,2283,1479,1189,1160,1113,970,999,1208,1467,2059,2240,1634,1722,1801,1246,1162,1087,1013,959,1179,1229,1655,2019,2284,1942,1423,1340,1187,1098,1004,970,1140,1110,1812,2263,1820,1846,1531,1215,1075,1056,975,940,1081,1294,1341],[901,689,827,677,522,406,441,393,387,582,578,666,830,752,785,664,467,438,421,412,343,440,531,771,767,1141,896,532,447,420,376,330,357,445,546,764,862,660,663,643,502,392,411,348,387,385,411,638,796,853,737,546,530,446,431,362,387,430,425,679,821,785,727,612,478,429,405,379,393,411,487,574]],"fixedtz":false,"tzone":""},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
</div>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Hablar de EDA es una forma de organizar las ideas, algunas personas o autores pueden considerar que el EDA incluye la limpieza de datos e incluso alguna modelación. Por sencillez, vamos a considerar que el EDA está compuesto principalmente por transformación de variables y visualizaciones<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Investigue qué es un <em>tibble</em><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Esto no debe hacerse a la ligera, más adelante nos ocuparemos de cómo tratar estos <code>NA</code>, por ahora vamos a concentrarnos en hacer gráficas<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Ejecute el comando en la consola, a menos que quiera imprimir una lista de colores siempre que ejecute el código en su editor<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Responder esta pregunta es importante para entender el funcionamiento de <code>ggplot2</code><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Estos son los llamados <em>ridgeline plots</em> o <em>joyplots</em><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Personalizar no quiere decir necesariamente mejorar<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Intente varios temas<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>En el siguiente capítulo veremos con detalle estas funciones<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>Tanto <code>economics</code> como <code>economics_long</code> traen la misma información pero una está en formato “ancho” y la otra en formato “largo”, investigue a qué se refieren estos términos<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>revise el cocepto de fórmula en <code>R</code><a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./r-intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción al uso de <code>R</code></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./uso-dplyr.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Uso de <code>dplyr</code></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>